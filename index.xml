<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>7sharp9</title>
    <link>http://7sharpnine.com/</link>
    <description>Recent content on 7sharp9</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Dave Thomas</copyright>
    <lastBuildDate>Tue, 11 Apr 2017 23:11:55 +0100</lastBuildDate>
    <atom:link href="http://7sharpnine.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>I want to tell you a storyboard</title>
      <link>http://7sharpnine.com/2017/04/11/i-want-to-tell-you-a-storyboard/</link>
      <pubDate>Tue, 11 Apr 2017 23:11:55 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2017/04/11/i-want-to-tell-you-a-storyboard/</guid>
      <description>

&lt;p&gt;So as promised here&amp;rsquo;s a post with more detail on the iOS designer provider that I presented as part of my talk at &lt;a href=&#34;https://skillsmatter.com/conferences/8053-f-sharp-exchange-2017&#34;&gt;fsharpX 2017&lt;/a&gt; The talk is entitled &lt;a href=&#34;https://skillsmatter.com/skillscasts/10042-lightning-talk-session-expanding-the-horizons-of-mobile-development&#34;&gt;Expanding the Horizons of Mobile Development&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;background&#34;&gt;Background&lt;/h1&gt;

&lt;p&gt;In iOS, user interfaces can be represented by storyboards, essentially a storyboard is a big ball of xml that is produced by a visual designer like Xcode or Xamarin&amp;rsquo;s Designer.&lt;/p&gt;

&lt;p&gt;The basic premise of designer based user interfaces in .Net is the concept of a code behind file and and a partial class.  For a C# Xamarin.iOS storyboard project something a bit like this will be present as a partial class:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;namespace Designer
{
  [Register (&amp;quot;DesignerViewController&amp;quot;)]
  partial class DesignerViewController
  {
    [Outlet]
    [GeneratedCodeAttribute (&amp;quot;iOS Designer&amp;quot;, &amp;quot;1.0&amp;quot;)]
    UIKit.UIButton submitButton { get; set; }

    void ReleaseDesignerOutlets ()
    {
      if (submitButton != null) {
        submitButton.Dispose ();
        submitButton = null;
      }
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With the user using another file with the same partial class to consume the controls generated by the designer:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;namespace Designer
{
  partial class DesignerViewController
  {
      public override void ViewDidLoad ()
      {
        base.ViewDidLoad();
        submitButton.TouchUpInside += (sender, e) =&amp;gt; {
            //Do stuff
        }
      }
  }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I&amp;rsquo;ve always found the idea of partial class a bit of a cop out and never enjoyed having them around, which is why I do not miss them in F#.  It does, however, pose a bit of problem with dealing with the feature parity between C# and F# features where designer files are generated as partial classes and you have to implement code in the other fragments.  In F# that whole aspect is entirely missing due to the lack of partial classes, which mean anyone with a penchant foe visual designers will be disappointed.  &lt;em&gt;(You can read more about how the iOS designer works in Xamarin.iOS)&lt;/em&gt; &lt;a href=&#34;https://developer.xamarin.com/guides/ios/user_interface/designer/introduction/&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;is-there-be-a-better-way&#34;&gt;Is there be a better way?&lt;/h1&gt;

&lt;p&gt;Of course!  We can use the power of F# type providers!  Although not for the feint hearted to create, F# type providers can be quite a boon to development time with their design time access to intellisense and tooltips based of some kind of underlying schema.&lt;/p&gt;

&lt;p&gt;During my time at Xamarin I did research work on lots of different areas of using F#, one of those was using F# type providers with designer tooling for iOS and Android.  A few weeks back &lt;a href=&#34;https://twitter.com/migueldeicaza&#34;&gt;Miguel de Icaza&lt;/a&gt; kindly agreed to open source the work so that it could be enjoyed by all!&lt;/p&gt;

&lt;h1 id=&#34;introducing-the-ios-designer-provider&#34;&gt;Introducing the iOS designer provider&lt;/h1&gt;

&lt;p&gt;Type providers come in two distinct forms, generative and erasing, generally most people use erasing providers where the code is erased at compile time to objects leaving only raw functionality.  This is particularly useful for large schemas where information is generated on demand or the runtime representation is only data and methods.  Generative providers produce real types that can be consumed and augmented in the normal fashion.  Due to the nature of the iOS runtime and the way the Xamarin iOS works generative type providers are needed.&lt;/p&gt;

&lt;h2 id=&#34;how-does-it-work&#34;&gt;How does it work&lt;/h2&gt;

&lt;p&gt;The storyboard files within the current project are processed and any &lt;code&gt;ViewControllers&lt;/code&gt; that have been assigned a name are processed by the type provider.  Each control within the &lt;code&gt;ViewController&lt;/code&gt; are processed if they have been assigned a name.  A property and disposal logic is generated as well as an abstract type for the controller.&lt;/p&gt;

&lt;h2 id=&#34;example-storyboard&#34;&gt;Example storyboard&lt;/h2&gt;

&lt;p&gt;Here is a sample storyboard from tvOS:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://7sharpnine.com/img/designer-provider/tvOS-storyboard.png&#34; alt=&#34;tvOS storyboard&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;ViewController&lt;/code&gt; is named &lt;code&gt;ourViewController&lt;/code&gt;.  The controls are equally imaginatively named as follows:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;label1&lt;/li&gt;
&lt;li&gt;entry1&lt;/li&gt;
&lt;li&gt;entry2&lt;/li&gt;
&lt;li&gt;entry3&lt;/li&gt;
&lt;li&gt;entry4&lt;/li&gt;
&lt;li&gt;button1&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;using-the-type-provider&#34;&gt;Using the type provider&lt;/h2&gt;

&lt;p&gt;The first step is to instantiate the type provider, this effectively starts the process of finding the storyboards within the project and generating the types in the background:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;type VCContainer = Xamarin.UIProvider
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The type bound above &lt;code&gt;VCContainer&lt;/code&gt; can be called anything you wish I named it &lt;code&gt;VCContainer&lt;/code&gt; because it contains all of the &lt;code&gt;ViewControllers&lt;/code&gt; found in the storyboards.&lt;/p&gt;

&lt;p&gt;The next step is to create and register a &lt;code&gt;ViewController&lt;/code&gt; that was defined in one of the storyboards.  Using auto-completion we can &lt;em&gt;dot into&lt;/em&gt; the &lt;code&gt;VCContainer&lt;/code&gt; to find any of the &lt;code&gt;ViewControllers&lt;/code&gt; within the storyboard.&lt;/p&gt;

&lt;p&gt;Here the &lt;code&gt;ViewController&lt;/code&gt; we saw in the screen shot above (&lt;code&gt;ourViewController&lt;/code&gt;) is exposed with a &lt;em&gt;base&lt;/em&gt; suffix &lt;code&gt;ourViewControllerBase&lt;/code&gt; which is also an abstract type.  We don&amp;rsquo;t want to allow the &lt;code&gt;ViewController&lt;/code&gt; to be instantiated directly as the iOS runtime requires attributes on the exposed type and as we don&amp;rsquo;t yet have &lt;a href=&#34;https://github.com/fsharp/fslang-suggestions/issues/509&#34;&gt;intrinsic type extensions on provided types&lt;/a&gt; we don&amp;rsquo;t have a great alternative apart from inheritance or augmentation.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;[&amp;lt;Register(VCContainer.ourViewControllerBase.CustomClass)&amp;gt;]
type myViewController(ptr) =
    inherit VCContainer.ourViewControllerBase(ptr)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Due to the way Xamarin.iOS works we have to place a &lt;code&gt;Register&lt;/code&gt; attribute on the type so that the the iOS runtime can instantiate the correct type when the storyboard is constructed.  Another feature of the iOS designer type provider is that the &lt;code&gt;CustomClass&lt;/code&gt; name is exposed as a convenience so that you don&amp;rsquo;t have to remember or retype the name of the &lt;code&gt;ViewController&lt;/code&gt; avoiding stringly typed hell.  You can also see that &lt;code&gt;ourViewControllerBase&lt;/code&gt; is called using the &lt;code&gt;nativeint&lt;/code&gt; constructor: &lt;code&gt;inherit VCContainer.ourViewControllerBase(ptr)&lt;/code&gt;, this is how the storyboard infrastructure in iOS creates an instance of your ViewController`.&lt;/p&gt;

&lt;p&gt;When we come to wire up events and consume the controls we can do so very easily via auto completion.  Say we want to wire up &lt;code&gt;button1&lt;/code&gt; so that when it is clicked we concatenate the contents of the &lt;code&gt;Entry&lt;/code&gt; controls and place the text into &lt;code&gt;label1&lt;/code&gt; we could do so like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;    override x.ViewDidLoad () =
        base.ViewDidLoad ()
        x.button1.PrimaryActionTriggered.Add(
            fun _ -&amp;gt; x.View.BackgroundColor &amp;lt;- UIColor.Blue
                     x.label1.Text &amp;lt;-
                        [ x.entry1.Text
                          x.entry2.Text
                          x.entry3.Text
                          x.entyr4.Text ]
                        |&amp;gt; String.concat &amp;quot; &amp;quot; )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see in &lt;code&gt;ViewDidLoad&lt;/code&gt; we added an event handler to &lt;code&gt;button1&lt;/code&gt; and consume the relevant UI components.&lt;/p&gt;

&lt;h2 id=&#34;benefits&#34;&gt;Benefits&lt;/h2&gt;

&lt;p&gt;The benefits of this approach depend of what angle you look from.  From the C# approach at the start of this post there&amp;rsquo;s the reduced complexity of not having partial types and the designer generated parts being part of the project.  You still get all the benefits of the UI controls being able to be consumed and available in auto completion etc.  Compared to the current F# approach there&amp;rsquo;s less boiler plate because you dont have to manually add properties and &lt;code&gt;Outlet&lt;/code&gt; attributes to your &lt;code&gt;ViewController&lt;/code&gt;, with this approach there&amp;rsquo;s also the pitfall of stringly types which are extremly error prone.  The final advantage is that if the storyboard is changed so that a control is deleted, the compilation will fail at design time rather than runtime.&lt;/p&gt;

&lt;p&gt;Type providers provide a welcome safety net and boiler plate reduction for these type of scenarios.&lt;/p&gt;

&lt;h2 id=&#34;generated-code&#34;&gt;Generated Code&lt;/h2&gt;

&lt;p&gt;For the curious the generated code in &lt;code&gt;VCContainer&lt;/code&gt; looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;public sealed class VCContainer
{
  public abstract class ourViewControllerBase : UIViewController
  {
    public const string CustomClass = &amp;quot;ourViewController&amp;quot;;
	private UITextField __entry1;
	private UITextField __entry2;
	private UITextField __entry3;
	private UITextField __entyr4;
	private UIButton __button1;
	private UILabel __label1;

	[Outlet]
	public UITextField entry1 {
		get {
		  return this.__entry1;
		}
		set {
		  this.__entry1 = value;
		}
	}

    //entry2/3/4 etc
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Here is the disposal logic generated for each control:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-csharp&#34;&gt;public void ReleaseDesignerOutlets () {
    if (this.__entry1 != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__entry1).Dispose ();
    }
    if (this.__entry2 != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__entry2).Dispose ();
    }
    if (this.__entry3 != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__entry3).Dispose ();
    }
    if (this.__entyr4 != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__entyr4).Dispose ();
    }
    if (this.__button1 != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__button1).Dispose ();
    }
    if (this.__label1 != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__label1).Dispose ();
    }
    if (this.__ourViewController != null) {
        UnboxGeneric&amp;lt;IDisposable&amp;gt;(this.__ourViewController).Dispose ();
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;so-whats-next&#34;&gt;So whats next?&lt;/h1&gt;

&lt;p&gt;Since &lt;a href=&#34;https://skillsmatter.com/conferences/8053-f-sharp-exchange-2017&#34;&gt;fsharpX&lt;/a&gt; Ive been super busy catching up with work so I&amp;rsquo;ve only managed to get the slides published for the talk and write this blog post, but fairly soon there will be a nuget package available that will allow the designer provider to be used for iOS, tvOS and watchOS.  There is actually an experimental Android UI and fragment provider too, but that needs a little more work before its released on the general public :-)&lt;/p&gt;

&lt;p&gt;If anyone is interested in the inner working of the type provider let me know and I&amp;rsquo;ll draft up some notes on that too.  I know type providers are pretty mysterious and advanced concepts to a lot of people, generative providers doubly so.&lt;/p&gt;

&lt;p&gt;As usual I love to get &lt;strong&gt;any feedback&lt;/strong&gt;, comments and suggestions&amp;hellip;&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building a single page application with Elm</title>
      <link>http://7sharpnine.com/2016/10/03/building-an-spa-with-elm/</link>
      <pubDate>Mon, 03 Oct 2016 00:32:48 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2016/10/03/building-an-spa-with-elm/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;ve been meaning to write this for a while but got sidetracked with other things, so this is an experience report of
using Elm to build a single page application.&lt;/p&gt;

&lt;p&gt;First of all you can see the final site &lt;a href=&#34;http://lynseythomas.com&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;basic-structure&#34;&gt;Basic Structure&lt;/h1&gt;

&lt;p&gt;The basic structure is a navigation driven single page application, which also uses &lt;a href=&#34;https://guide.elm-lang.org/architecture/&#34;&gt;The Elm Architecture&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I split the site into separate file mainly based on &lt;a href=&#34;http://blog.jenkster.com/2016/04/how-i-structure-elm-apps.html&#34;&gt;how i structure elm apps&lt;/a&gt; by &lt;a href=&#34;https://twitter.com/krisajenkins&#34;&gt;Kris Jenkins&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;├─ App.elm
├─ Data.elm
├─ Shared.elm
├─ State.elm
├─ Types.elm
├─ View.elm
│
├─ About
│  └─ View.elm
├─ Category
│  └─ View.elm
├─ Contact
│  └─ View.elm
├─ Detail
│  └─ View.elm
├─ Gallery
│  └─ View.elm
└─ Home
   └─ View.elm
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I think its slightly overkill for a site of this size and complexity but its nice to understand where things will lead
on a bigger site where you have additional files like &lt;code&gt;State.elm&lt;/code&gt;, &lt;code&gt;Types.elm&lt;/code&gt; and &lt;code&gt;Rest.elm&lt;/code&gt; etc.&lt;/p&gt;

&lt;p&gt;One of the things that I did find a annoying at times was if I had &lt;code&gt;About/View.elm&lt;/code&gt; and &lt;code&gt;Category/View.elm&lt;/code&gt; both open in
the tabs of my editor.  Only &lt;code&gt;View.elm&lt;/code&gt; is shown in the tab so I had to hovering on the tab to see the full path or read
the module name at the top of the file.  Renaming the file to &lt;code&gt;AboutView.elm&lt;/code&gt; would mean the import statement would have
to change to &lt;code&gt;import About.AboutView&lt;/code&gt; as Elm enforces the directory name prefix.&lt;/p&gt;

&lt;h1 id=&#34;application-structure&#34;&gt;Application structure&lt;/h1&gt;

&lt;p&gt;As per the &lt;a href=&#34;http://blog.jenkster.com/2016/04/how-i-structure-elm-apps.html&#34;&gt;how i structure elm apps&lt;/a&gt; article my application was structured like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;module Main exposing (..)
import View exposing (rootView)
import Navigation
import State


main : Program Never
main =
    Navigation.program (Navigation.makeParser State.pathParser)
        { init = State.init
        , view = View.rootView
        , update = State.update
        , urlUpdate = State.urlUpdate
        , subscriptions = State.subscriptions
        }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;All the main elements of the application are imported and a &lt;code&gt;Navigation.program&lt;/code&gt; is started with the appropriate &lt;code&gt;init&lt;/code&gt;,
&lt;code&gt;view&lt;/code&gt;, &lt;code&gt;update&lt;/code&gt;, &lt;code&gt;urlUpdate&lt;/code&gt; and &lt;code&gt;subscriptions&lt;/code&gt;.&lt;/p&gt;

&lt;h1 id=&#34;model-messages-and-types&#34;&gt;Model Messages and types&lt;/h1&gt;

&lt;h2 id=&#34;model&#34;&gt;Model&lt;/h2&gt;

&lt;p&gt;The model is super simple, all that has to be recorded is the current page:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type alias Model =
    { page : Page }
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;messages&#34;&gt;Messages&lt;/h2&gt;

&lt;p&gt;The messages the application will deal with are also pretty simple:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type Msg
    = NavigateTo Page
    | NavigateBack
    | GmailCaptcha
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;NavigateTo&lt;/code&gt; simply navigates to the page in question.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NavigateBack&lt;/code&gt; just navigates back one page.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GmailCaptcha&lt;/code&gt; displays a captcha request which then shows an email address on success.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Page is just a union type consisting of the pages in the application:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type Page
    = Home
    | About
    | Contact
    | Gallery
    | CategoryDetail CategoryType
    | ItemDetail String
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And &lt;code&gt;CategoryType&lt;/code&gt; another union:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type CategoryType
    = Perfumes
    | Seasides
    | IllustratedQuotes
    | Bottles
    | Cocktails
    | Architecture
    | VintageCameras
    | Cakes
    | Unknown
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Category and Item are simple records:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type alias Category =
    {categoryType : CategoryType, img : String, description : String}

type alias Item =
    {id : String, title : String, img : String, description : String, category : CategoryType}

&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;update&#34;&gt;update&lt;/h1&gt;

&lt;p&gt;All Elm application have an &lt;code&gt;update&lt;/code&gt; function and ours is defined like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;update : Msg -&amp;gt; Model -&amp;gt; ( Model, Cmd b )
update msg model =
    case msg of
        NavigateTo page -&amp;gt;
            ( model, (Navigation.newUrl &amp;lt;| pageToString page) )

        NavigateBack -&amp;gt;
            model =&amp;gt; (Navigation.back 1)

        GmailCaptcha -&amp;gt;
            ( model, captcha() )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We pattern match on the &lt;code&gt;msg&lt;/code&gt; and either use the commands described in &lt;a href=&#34;#messages&#34;&gt;Messages&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;view&#34;&gt;View&lt;/h1&gt;

&lt;p&gt;The View is quite simple its a virtual dom defined by the following nodes on the `rootView:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;rootView model =
    div [class &amp;quot;container&amp;quot;]
        [
            nav [ class &amp;quot;navbar navbar-light&amp;quot;, attribute &amp;quot;role&amp;quot; &amp;quot;navigation&amp;quot; ]
                [ a [class &amp;quot;pull-xs-left&amp;quot;
                    , href &amp;lt;| toHash Home
                    , onClick&#39; &amp;lt;| NavigateTo Home
                    ]
                    [img [id &amp;quot;logo&amp;quot;, class &amp;quot;img-fluid&amp;quot;, src &amp;quot;/img/logogreen.png&amp;quot;, srcset [&amp;quot;/img/logogreen.png&amp;quot;,&amp;quot;/img/logogreen@2x.png&amp;quot; ] ] []]
                  ,  button [ attribute &amp;quot;aria-controls&amp;quot; &amp;quot;exCollapsingNavbar2&amp;quot;
                            , attribute &amp;quot;aria-expanded&amp;quot; &amp;quot;false&amp;quot;
                            , attribute &amp;quot;aria-label&amp;quot; &amp;quot;Toggle navigation&amp;quot;
                            , class &amp;quot;navbar-toggler hidden-sm-up flex-center&amp;quot;
                            , attribute &amp;quot;data-target&amp;quot; &amp;quot;#exCollapsingNavbar2&amp;quot;
                            , attribute &amp;quot;data-toggle&amp;quot; &amp;quot;collapse&amp;quot;
                            , type&#39; &amp;quot;button&amp;quot;
                            ]
                                [ text &amp;quot;☰&amp;quot; ]
                        
                , div [ class &amp;quot;collapse navbar-toggleable-xs&amp;quot;, id &amp;quot;exCollapsingNavbar2&amp;quot; ]
                    [   ul [ class &amp;quot;nav navbar-nav pull-sm-right text-xs-center&amp;quot; ]
                        [ renderMenuItem model Home &amp;quot;Home&amp;quot;
                        , renderMenuItem model About &amp;quot;About&amp;quot;
                        , renderMenuItem model Gallery &amp;quot;Gallery&amp;quot;
                        , renderMenuItem model Contact &amp;quot;Contact&amp;quot;
                        ]
                    ]
                ]
        , div [class &amp;quot;content container-fluid&amp;quot;] [viewPage model]
        , footer
        ]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;renderMenuItem&lt;/code&gt; is just changing a navigations item&amp;rsquo;s style based on the current page so I have omitted that.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;viewPage&lt;/code&gt; is where the view is updated depending on which page is current:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;viewPage model =
    case model.page of
        Home -&amp;gt; getHomePage ()
        About -&amp;gt; getAboutPage ()
        Gallery -&amp;gt; getGalleryAsCards ()
        Contact -&amp;gt; getContactPage () 
        CategoryDetail category -&amp;gt; getCategoryPageCards category
        ItemDetail item -&amp;gt; getItemPage item
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see there is a separate view for each page which in return a list of nodes for that particular view, I wont list
them all as the are relatively similar.&lt;/p&gt;

&lt;p&gt;Heres an example of the &lt;code&gt;Category.View&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;getCategoryPageCards category =
    let
        items =
            List.filter (\c -&amp;gt; c.category == category) Data.items
        colClass =
            case List.length items of
                1 -&amp;gt; &amp;quot;col-xs-12&amp;quot;
                2 -&amp;gt; &amp;quot;col-xs-12 col-sm-6&amp;quot;
                _ -&amp;gt; &amp;quot;col-xs-12 col-sm-6 col-md-4&amp;quot;


        itemMapper item =
            div [ class colClass ]
                [ div [ class &amp;quot;card&amp;quot;]
                    [ a [ noContextMenu
                        , href (toHash &amp;lt;| ItemDetail item.id)
                        , onClick&#39; (NavigateTo &amp;lt;| ItemDetail item.id)
                        ]
                        [ img [ noContextMenu, class &amp;quot;card-img-top img-fluid&amp;quot;, src item.img ] [] ]
                    , div [ class &amp;quot;card-block&amp;quot; ]
                        [ p [ class &amp;quot;card-text&amp;quot; ] [ text item.title ] ]
                    ]
                ]
    in
        div [ class &amp;quot;container-fluid&amp;quot; ]
            [ div [ class &amp;quot;row&amp;quot; ]
                (items |&amp;gt; List.map itemMapper)
            , div [] [ backButton ]
            ]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The nodes returned from &lt;code&gt;getCategoryPageCards&lt;/code&gt; are returned as part of &lt;code&gt;viewPage&lt;/code&gt;.  Data.items are filtered by the current
category and mapped into &lt;code&gt;divs&lt;/code&gt; with &lt;code&gt;onClick&lt;/code&gt; navigation to the &lt;code&gt;ItemDetail&lt;/code&gt; page&lt;/p&gt;

&lt;h1 id=&#34;navigation&#34;&gt;Navigation&lt;/h1&gt;

&lt;p&gt;Navigation is handled with Elm &lt;a href=&#34;http://package.elm-lang.org/packages/elm-lang/navigation/latest&#34;&gt;Navigation&lt;/a&gt; which provides the &lt;code&gt;Navigation.program&lt;/code&gt; you saw in &lt;a href=&#34;#application-structure&#34;&gt;Application structure&lt;/a&gt;.&lt;br /&gt;
The program function has been extended with an additional two arguments.&lt;/p&gt;

&lt;p&gt;The first additional argument is a &lt;code&gt;Parser&lt;/code&gt;, there is a utility function called &lt;code&gt;makeParser that allows us to turn a 
browser&lt;/code&gt;Location` into whatever data we want to.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;makeParser : (Location -&amp;gt; a) -&amp;gt; Parser a
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the &lt;code&gt;Navigation.program&lt;/code&gt; you can see this used along with the functions below to parse a &lt;code&gt;Location&lt;/code&gt; into a &lt;code&gt;Page&lt;/code&gt;: &lt;code&gt;Navigation.program (Navigation.makeParser State.pathParser)&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;pathParser : Navigation.Location -&amp;gt; Result String Page
pathParser location =
    parse identity pageParser (String.dropLeft 1 location.pathname)


pageParser : UrlParser.Parser (Page -&amp;gt; a) a
pageParser =
    oneOf
        [ format Home (oneOf [ s &amp;quot;home&amp;quot;, s &amp;quot;&amp;quot; ])
        , format About (s &amp;quot;about&amp;quot;)
        , format Shop (s &amp;quot;shop&amp;quot;)
        , format Gallery (s &amp;quot;gallery&amp;quot;)
        , format Contact (s &amp;quot;contact&amp;quot;)
        , format (stringToCategoryType &amp;gt;&amp;gt; CategoryDetail) (s &amp;quot;category&amp;quot; &amp;lt;/&amp;gt; UrlParser.string)
        , format ItemDetail (s &amp;quot;item&amp;quot; &amp;lt;/&amp;gt; UrlParser.string)
        ]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This leads nicely into parsing, actually first lets look at &lt;code&gt;urlUpdate&lt;/code&gt; because its pretty simple:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;urlUpdate : Result a Page -&amp;gt; Model -&amp;gt; ( Model, Cmd c )
urlUpdate result model =
    case result of
        Err _ -&amp;gt;
            ( model, Navigation.modifyUrl (pageToString model.page) )

        Ok page -&amp;gt;
            { model | page = page } =&amp;gt; updateAnalytics (pageToString page)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We pattern match on the &lt;code&gt;result&lt;/code&gt; and if its &lt;code&gt;Ok&lt;/code&gt; we update the models page to the one passed in.  If the result is an
error (&lt;code&gt;Err&lt;/code&gt;) then we modify the url with &lt;code&gt;Navigation.modifyUrl&lt;/code&gt; just pointing it back to the previous page.  &lt;code&gt;pageToString&lt;/code&gt;
simply turns the &lt;code&gt;Page&lt;/code&gt; type back into a string.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m going to strategically ignore &lt;code&gt;updateAnalytics&lt;/code&gt;
for now as this will be covered later.&lt;/p&gt;

&lt;h1 id=&#34;parsing&#34;&gt;Parsing&lt;/h1&gt;

&lt;p&gt;Parsing is handled with a small parser combinator library &lt;a href=&#34;http://package.elm-lang.org/packages/evancz/url-parser/latest/&#34;&gt;url-parser&lt;/a&gt; in the function above you can see how combinators
are used to parse &lt;code&gt;Navigation&lt;/code&gt; into a &lt;code&gt;Page&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;oneOf&lt;/code&gt; is a combinator that will try to match one of the parsers in a list.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s&lt;/code&gt; is a string combinator matching a particular string like &amp;ldquo;home&amp;rdquo;, &amp;ldquo;shop&amp;rdquo; etc.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;/&amp;gt;&lt;/code&gt; is a combinator that matches a &lt;code&gt;/&lt;/code&gt; character in the location like &lt;code&gt;item/myitem&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;UrlParser.string&lt;/code&gt; matches any string.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;format&lt;/code&gt; Is a combinator that allows you to customise or map another &lt;code&gt;Parser&lt;/code&gt;, here it is used to Parsed output into the union types that represent them.&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;google-analytics&#34;&gt;Google Analytics&lt;/h1&gt;

&lt;p&gt;Ok back to &lt;code&gt;updateAnalytics&lt;/code&gt; remember from &lt;code&gt;urlUpdate&lt;/code&gt;?&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;{ model | page = page } =&amp;gt; updateAnalytics (pageToString page)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;updateAnalytics&lt;/code&gt; is a function defined as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;port updateAnalytics: String -&amp;gt; Cmd msg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Yes its just a type signature as this is a &lt;a href=&#34;https://guide.elm-lang.org/interop/javascript.html#ports&#34;&gt;port&lt;/a&gt; where we will be sending information out of our app into the fabulous
JavaScript world, I&amp;rsquo;m glad you can&amp;rsquo;t hear the sarcasm in my voice :-)&lt;/p&gt;

&lt;p&gt;Because this is a single page application we need to provide a way to update Google analytics whenever the page navigation
changes otherwise everything will be displayed as a hit to the root.  Luckily all we need is a call to the normal
Google Analytics script via the port we just set up.&lt;/p&gt;

&lt;p&gt;The JavaScript looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-JavaScript&#34;&gt;var Elm = require(&#39;./App&#39;);
var app = Elm.Main.embed(document.getElementById(&#39;main&#39;));

app.ports.updateAnalytics.subscribe(function (page) {
    ga(&#39;set&#39;, &#39;page&#39;, page);
    ga(&#39;send&#39;, &#39;pageview&#39;);
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;On the fist two lines you can see where Elm is embedded into the the html &lt;code&gt;main&lt;/code&gt; element, the important part is where
&lt;code&gt;app.ports.updateAnalytics.subscribe&lt;/code&gt; is used to subscribe to the port Elm is publishing whenever &lt;code&gt;updateAnalytics&lt;/code&gt; is
being called with the new &lt;code&gt;Page&lt;/code&gt;.  The result of this is we can now use Google Analytics to see exactly what page a user
is visiting.&lt;/p&gt;

&lt;p&gt;Actually the &lt;code&gt;GmailCaptcha&lt;/code&gt; message is the same except it uses a &lt;code&gt;Port&lt;/code&gt; defined like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;port captcha : () -&amp;gt; Cmd msg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then the JavaScript subscription is as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-JavaScript&#34;&gt;app.ports.captcha.subscribe(function () {
    window.open(&#39;http://www.google.com/recaptcha/mailhide/...&#39;, &#39;&#39;, &#39;toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300&#39;);
    return false;
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;All that&amp;rsquo;s happening here is that when the &lt;code&gt;GmailCaptcha&lt;/code&gt; message is sent a window is opened via the &lt;code&gt;Port&lt;/code&gt; and JavaScript to allow
the email address to be retrieved.&lt;/p&gt;

&lt;h1 id=&#34;summary&#34;&gt;Summary&lt;/h1&gt;

&lt;p&gt;This post never intended to explain in detail about creating the web application more just to expose some of the more
interesting parts and to show how much fun it is working in Elm is.&lt;/p&gt;

&lt;p&gt;I used VSCode with the &lt;a href=&#34;https://marketplace.visualstudio.com/items?itemName=sbrink.elm&#34;&gt;elm addin&lt;/a&gt; to build the entire thing and it worked out wonderfully.&lt;/p&gt;

&lt;h2 id=&#34;comparison-with-fable&#34;&gt;Comparison with Fable&lt;/h2&gt;

&lt;p&gt;This is the bit I was dreading a little.  &lt;a href=&#34;https://fable-compiler.github.io/&#34;&gt;Fable&lt;/a&gt; is a F# -&amp;gt; JavaScript transpiler.  I&amp;rsquo;ve done quite a lot of hacking
with Fable and also made some contributions lately.  I would describe Elm as batteries included, and very slick, and
lovely to work in.  I really love using it!  I really like the great compiler message, I also like the public type
annotations that the Elm compiler nudges you to add.  Its very useful when reading code on-line to know the types on the
publicly exposed parts so that you don&amp;rsquo;t have to use a visual editor to find out.  I could probably write an entire post
comparing the two languages so I&amp;rsquo;ll leave it there for now.&lt;/p&gt;

&lt;h1 id=&#34;so-whats-left&#34;&gt;So whats Left?&lt;/h1&gt;

&lt;p&gt;All that&amp;rsquo;s left is the deployment and hosting side which I&amp;rsquo;ll delve into another time.&lt;/p&gt;

&lt;p&gt;If you have any requests for me to go into parts in more detail please leave a comment or ping me on Twitter and I&amp;rsquo;ll add that in too.&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;

&lt;hr /&gt;
</description>
    </item>
    
    <item>
      <title>Elmtastic Updates</title>
      <link>http://7sharpnine.com/2016/06/30/elmtastic-updates/</link>
      <pubDate>Thu, 30 Jun 2016 13:53:45 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2016/06/30/elmtastic-updates/</guid>
      <description>

&lt;p&gt;With the release of Elm 0.17 there were some fundamental changes to the Elm language.  This post
is my attempt to help those that may be struggling with these changes&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve played with lots of new languages over the last year or so namely Elixir, Rust, and Elm.  Elm
and Elixir have been my favorites and I hope to cover those much more in this and future blog posts.&lt;/p&gt;

&lt;h1 id=&#34;so-whats-new-in-elm-0-17-why-do-i-need-to-upgrade-anything&#34;&gt;So whats new in Elm 0.17 why do I need to upgrade anything?&lt;/h1&gt;

&lt;p&gt;I&amp;rsquo;ll summarise here:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Signals have been removed (Hence some upgrade is required if you had any code using signals.)&lt;/li&gt;
&lt;li&gt;Faster HTML renderer&lt;/li&gt;
&lt;li&gt;Libraries for geolocation, page visibility, and web sockets&lt;/li&gt;
&lt;li&gt;Generated JS is smaller and works with Google&amp;rsquo;s Closure Compiler&lt;/li&gt;
&lt;li&gt;Generated JS works with RequireJS and CommonJS&lt;/li&gt;
&lt;li&gt;Features in place for services like GraphQL and Elixir Phoenix&lt;/li&gt;
&lt;li&gt;Improved documentation at guide.elm-lang.org&lt;/li&gt;
&lt;li&gt;Helpful messages when decoding JSON fails&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The big things are that are going to throw a spanner in the works are Signals have been removed
and the following packages have moved around:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;evancz/elm-html    -&amp;gt; elm-lang/html
evancz/elm-svg     -&amp;gt; elm-lang/svg
evancz/virtual-dom -&amp;gt; elm-lang/virtual-dom
evancz/start-app   -&amp;gt; elm-lang/html
evancz/elm-effects -&amp;gt; elm-lang/core
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Be sure to read the &lt;a href=&#34;http://elm-lang.org/blog/farewell-to-frp&#34;&gt;official post&lt;/a&gt; on the subject for the full information.&lt;/p&gt;

&lt;h2 id=&#34;how-do-i-upgrade-are-there-any-resources-to-help&#34;&gt;How Do I upgrade?  Are there any resources to help?&lt;/h2&gt;

&lt;p&gt;There are a few guides already that do help, the &lt;a href=&#34;https://github.com/elm-lang/elm-platform/blob/master/upgrade-docs/0.17.md&#34;&gt;official upgrade plan&lt;/a&gt; is
really useful as is &lt;a href=&#34;http://www.lambdacat.com/migrating-from-elm-0-16-to-0-17-from-startapp/&#34;&gt;migrating from elm 0.16 to 0.17&lt;/a&gt; and I would advise that
you read the official plan before this or any other guides.  Hopefully my whistle stop
tour of upgrading an existing package may be of help.&lt;/p&gt;

&lt;h2 id=&#34;example-upgrade&#34;&gt;Example Upgrade&lt;/h2&gt;

&lt;p&gt;Lets take the &lt;a href=&#34;https://github.com/Fresheyeball/elm-sprite&#34;&gt;elm-sprite&lt;/a&gt; package as an example, its fairly simple with only a few
dependencies.&lt;/p&gt;

&lt;h3 id=&#34;elm-package-json&#34;&gt;elm.package.json&lt;/h3&gt;

&lt;p&gt;Lets look at the elm.package.json file:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
    &amp;quot;version&amp;quot;: &amp;quot;1.0.0&amp;quot;,
    &amp;quot;summary&amp;quot;: &amp;quot;Simple sprite rendering for elm-html&amp;quot;,
    &amp;quot;repository&amp;quot;: &amp;quot;https://github.com/Fresheyeball/elm-sprite.git&amp;quot;,
    &amp;quot;license&amp;quot;: &amp;quot;MIT&amp;quot;,
    &amp;quot;source-directories&amp;quot;: [
        &amp;quot;src&amp;quot;
    ],
    &amp;quot;exposed-modules&amp;quot;: [
        &amp;quot;Sprite&amp;quot;
    ],
    &amp;quot;dependencies&amp;quot;: {
        &amp;quot;elm-lang/core&amp;quot;: &amp;quot;3.0.0 &amp;lt;= v &amp;lt; 4.0.0&amp;quot;
    },
    &amp;quot;elm-version&amp;quot;: &amp;quot;0.16.0 &amp;lt;= v &amp;lt; 0.17.0&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We need to update the dependencies for &lt;code&gt;elm-lang/core&lt;/code&gt; to &lt;code&gt;4.0.1 &amp;lt;= v &amp;lt; 5.0.0&lt;/code&gt;
and &lt;code&gt;elm-version&lt;/code&gt; to &lt;code&gt;0.17.0 &amp;lt;= v &amp;lt; 0.18.0&lt;/code&gt;.  Pretty easy in terms of dependencies.&lt;/p&gt;

&lt;h3 id=&#34;sprite-elm&#34;&gt;Sprite.elm&lt;/h3&gt;

&lt;p&gt;This ones pretty easy, the only thing to change is the module definition which is
using an obsolete syntax:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;module Sprite (..) where
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now becomes&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;module Sprite exposing (..)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Actually the Elm compiler does a fantastic job here by actually telling us what the problem is:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ini&#34;&gt;-- SYNTAX PROBLEM --------------------------------------------------- Sprite.elm

I ran into something unexpected when parsing your code!

1| module Sprite (..) where
                 ^
I am looking for one of the following things:

    something like `exposing (..)` which replaced `where` in 0.17
    whitespace
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So that was pretty painless, lets have a look at the example file: &lt;code&gt;One.elm&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;one-elm&#34;&gt;One.elm&lt;/h3&gt;

&lt;p&gt;This ones a bit more tricky as there are signals involved and packages that have moved about.&lt;br /&gt;
Lets have a look at the changes needed.&lt;/p&gt;

&lt;p&gt;First of all lets address the obsolete &lt;code&gt;where&lt;/code&gt; syntax:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;module One exposing (..)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We need to remove the &lt;code&gt;Signal&lt;/code&gt;, &lt;code&gt;Html.Events&lt;/code&gt; and &lt;code&gt;Effects&lt;/code&gt; imports packages, let&amp;rsquo;s remove these:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;import Signal exposing (message, Address)
import Html.Events exposing (on, targetValue)
import Effects exposing (Effects, none)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we need to address the changes in the Time package as &lt;code&gt;fps&lt;/code&gt; is no longer available, we can use milliseconds instead.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;import Time exposing (Time, millisecond)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we need to adjust the &lt;code&gt;StartpApp&lt;/code&gt; import and use &lt;code&gt;Html.App&lt;/code&gt; instead.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;import Html.App as Html
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So all in all the imports section will look like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;module One exposing (..)

import Html exposing (..)
import Html.App as Html
import Time exposing (Time, millisecond)
import Html.Attributes as A
import Sprite exposing (..)
import Array
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;action&#34;&gt;Action&lt;/h3&gt;

&lt;p&gt;The first thing we will tackle is the Action which flows though this application.  It now looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type Action
    = Tick Time
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As &lt;code&gt;Action&lt;/code&gt; has now been replaced with &lt;code&gt;Msg&lt;/code&gt; so we need to change this to the following:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;type Msg
  = Tick Time
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;init&#34;&gt;init&lt;/h3&gt;

&lt;p&gt;Next lets look at the init function its signature is slightly different now.  &lt;code&gt;Html.Program&lt;/code&gt; now &lt;a href=&#34;http://package.elm-lang.org/packages/elm-lang/html/1.1.0/Html-App#program&#34;&gt;starts the application&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;init : (model, Cmd msg)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So rather than:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;init : Sprite {}
init =
   { sheet = &amp;quot;https://10firstgames.files.wordpress.com/2012/02/actionstashhd.png&amp;quot;
     , rows = 16
     , columns = 16
     , size = ( 2048, 2048 )
     , frame = 0
     , dope = idle
     }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It will now become:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;init : (Sprite {}, Cmd Msg)
init = (
  { sheet = &amp;quot;https://10firstgames.files.wordpress.com/2012/02/actionstashhd.png&amp;quot;
    , rows = 16
    , columns = 16
    , size = ( 2048, 2048 )
    , frame = 0
    , dope = idle
    } , Cmd.none)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;view&#34;&gt;view&lt;/h3&gt;

&lt;p&gt;This is what view looks like:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;view : Address Action -&amp;gt; Sprite {} -&amp;gt; Html
view address s =
    let
        onInput address contentToValue =
            on
                &amp;quot;input&amp;quot;
                targetValue
                (message address &amp;lt;&amp;lt; contentToValue)
    in
        div
            []
            [ node
                &amp;quot;sprite&amp;quot;
                [ A.style (sprite s) ]
                []
            ]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;At first glance this looks a bit more complex but when you look at the code a little
more you come to realise that the &lt;code&gt;onInput&lt;/code&gt; function is not even used anymore this is
just dead code.  So no all that remains is to change &lt;code&gt;view&lt;/code&gt; to match the new Elm 0.17
architecture, so instead of &lt;code&gt;Address Action -&amp;gt; Sprite {} -&amp;gt; Html&lt;/code&gt; it will now be
&lt;code&gt;Sprite {} -&amp;gt; Html Msg&lt;/code&gt; as &lt;code&gt;Address&lt;/code&gt; and &lt;code&gt;Action&lt;/code&gt; are now no longer needed.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;view : Sprite {} -&amp;gt; Html Msg
view s =
  div
      []
      [
        node
          &amp;quot;sprite&amp;quot;
          [ A.style (sprite s)]
          []
      ]
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;update&#34;&gt;update&lt;/h3&gt;

&lt;p&gt;Ok, now for &lt;code&gt;update&lt;/code&gt; lets have a look at that:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;update : Action -&amp;gt; Sprite {} -&amp;gt; ( Sprite {}, Effects Action )
update action s =
    let
        s&#39; =
            case action of
                Tick _ -&amp;gt;
                    advance s
    in
        ( s&#39;, none )
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;update&lt;/code&gt; now has a signature of &lt;code&gt;msg -&amp;gt; model -&amp;gt; (model, Cmd msg)&lt;/code&gt; so all we really have
to do is replace &lt;code&gt;Action&lt;/code&gt; with &lt;code&gt;Msg&lt;/code&gt;, and &lt;code&gt;Effects Action&lt;/code&gt; with &lt;code&gt;Cmd Msg&lt;/code&gt;.  Finally I
change the return to: &lt;code&gt;Cmd.none&lt;/code&gt; which was previously &lt;code&gt;Effects.none&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;update : Msg -&amp;gt; Sprite {} -&amp;gt; (Sprite {}, Cmd Msg)
update action s =
    let
        s&#39; =
            case action of
                Tick _ -&amp;gt;
                    advance s
    in
        ( s&#39;, Cmd.none )
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;subs&#34;&gt;subs&lt;/h3&gt;

&lt;p&gt;This part is new, with the old 0.16 based version there was a signal which was mapping
time to a sprite update:&lt;code&gt;[ Signal.map Tick (fps 30) ]&lt;/code&gt;.  Now that we will be using
subscriptions this is a simple function like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;subs : Sprite {} -&amp;gt; Sub Msg
subs model =
  Time.every (millisecond * 33) Tick
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So every 33 milliseconds (30 frames per second) we are sending a Tick command to the update function.&lt;/p&gt;

&lt;h3 id=&#34;application-start&#34;&gt;application start&lt;/h3&gt;

&lt;p&gt;The last part is the application start, heres what it looks like in 0.16:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;app : StartApp.App (Sprite {})
app =
    StartApp.start
        { view = view
        , update = update
        , init = ( init, none )
        , inputs = [ Signal.map Tick (fps 30) ]
        }


main : Signal Html
main =
    app.html
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see the &lt;code&gt;signal&lt;/code&gt; I talked about above.  This whole section has now become a lot simpler in Elm 0.17.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elm&#34;&gt;main : Program Never
main =
  Html.program
    { view = view
    , update = update
    , init = init
    , subscriptions = subs
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;StartApp&lt;/code&gt; has now become &lt;code&gt;Html.App&lt;/code&gt; which we aliased to &lt;code&gt;Html&lt;/code&gt; at the beginning &lt;code&gt;import Html.App as Html&lt;/code&gt;
and we use the &lt;code&gt;program&lt;/code&gt; function to feed in all the functions we just declared.&lt;/p&gt;

&lt;p&gt;Ok, we&amp;rsquo;re all done, hopefully someone found this useful!&lt;/p&gt;

&lt;p&gt;One tip I can give is to update the function signatures for each function first and it should make
things a little clearer on what you need to do.&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;

&lt;hr /&gt;
</description>
    </item>
    
    <item>
      <title>Creating fuse applications with fable</title>
      <link>http://7sharpnine.com/2016/06/07/fable-fuse-template/</link>
      <pubDate>Tue, 07 Jun 2016 13:20:49 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2016/06/07/fable-fuse-template/</guid>
      <description>

&lt;p&gt;So as promised here&amp;rsquo;s a guide to creating your first &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; application&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ve made a template available so this can be tried out quickly and easily, I&amp;rsquo;ll run through the
requirements and describe whats in the template.&lt;/p&gt;

&lt;h1 id=&#34;requirements&#34;&gt;Requirements&lt;/h1&gt;

&lt;p&gt;First of all here are the requirements.&lt;/p&gt;

&lt;h2 id=&#34;yeoman&#34;&gt;Yeoman&lt;/h2&gt;

&lt;p&gt;As &lt;a href=&#34;http://fsprojects.github.io/Fable/&#34;&gt;fable&lt;/a&gt; uses &lt;a href=&#34;https://docs.npmjs.com/getting-started/what-is-npm&#34;&gt;npm modules&lt;/a&gt; for dependencies &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; template will also be based
on them.  I have used &lt;a href=&#34;http://fsprojects.github.io/Fable/docs.html&#34;&gt;Yeoman&lt;/a&gt; as it&amp;rsquo;s very flexible and works nicely.&lt;/p&gt;

&lt;p&gt;So what you need to get Yeoman is:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;npm install -g yo
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then to install the &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; template for Yeoman:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;npm install -g generator-fable-fuse
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Nice and easy.&lt;/p&gt;

&lt;h2 id=&#34;fable&#34;&gt;Fable&lt;/h2&gt;

&lt;p&gt;Installing Fable is covered in the &lt;a href=&#34;http://fsprojects.github.io/Fable/docs.html&#34;&gt;Fable documentation&lt;/a&gt;, but it&amp;rsquo;s essentially just another npm install:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;npm install -g fable-compiler
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;fuse&#34;&gt;Fuse&lt;/h2&gt;

&lt;p&gt;Fuse can be downloaded at their site &lt;a href=&#34;https://www.fusetools.com/downloads&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s pretty much all the requirements, let&amp;rsquo;s try this out!&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;creating-a-fable-fuse-application&#34;&gt;Creating a &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; application?&lt;/h1&gt;

&lt;p&gt;OK, so with everything installed how do you get going?&lt;/p&gt;

&lt;p&gt;This is really easy:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mkdir fable-fuse-test
cd fable-fuse-test
yo fable-fuse
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then follow the prompts, here&amp;rsquo;s a &lt;a href=&#34;https://asciinema.org&#34;&gt;asciinema&lt;/a&gt; session showing the process:&lt;/p&gt;


&lt;figure class=&#34;8u&#34;&gt;
    &lt;a href=&#34;https://asciinema.org/a/9eqmwurfreaspzsmrm0f5ezc9?size=medium&amp;amp;speed=1.75&#34;&gt;
        &lt;img src=&#34;https://asciinema.org/a/9eqmwurfreaspzsmrm0f5ezc9.png&#34; /&gt;
    &lt;/a&gt;
    
&lt;/figure&gt;


&lt;p&gt;Now that the template has been created let&amp;rsquo;s have a look at whats inside.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;project-structure&#34;&gt;Project Structure&lt;/h1&gt;

&lt;p&gt;The structure of a &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; application is as follows &lt;em&gt;(Using a project name of test)&lt;/em&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;├── App
│   ├── MainView.ux
│   └── test.unoproj
├── build.bat
├── build.sh
├── node_modules
│   ├── fable-core
│   ├── fable-fuse
│   └── fable-import-fetch
├── package.json
└── src
    ├── fableconfig.json
    ├── test.fs
    └── test.fsproj
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Lets go through the root files first&lt;/p&gt;

&lt;h2 id=&#34;package-json&#34;&gt;package.json&lt;/h2&gt;

&lt;p&gt;This file has the dependencies for &lt;code&gt;fable |&amp;gt; fuse&lt;/code&gt;.  Currently these are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;fable-core&lt;/strong&gt; : This has the main definitions for Fable.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;fable-fuse&lt;/strong&gt; : This has the bindings for the Fuse JavaScript API&amp;rsquo;s.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;fable-import-fetch&lt;/strong&gt; : This has the F# bindings for JavaScript Fetch API.&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;build-sh-build-bat&#34;&gt;build.sh / build.bat&lt;/h2&gt;

&lt;p&gt;These two files contain the script to transpile the F# source into JavaScript.  So upon typing &lt;code&gt;./build.sh&lt;/code&gt; the F# files
will be transpiled into JavaScript and placed into the &lt;code&gt;App/js&lt;/code&gt; folder.  In addition &lt;a href=&#34;http://fsprojects.github.io/Fable/&#34;&gt;Fable&lt;/a&gt; will continue to watch the
F# files and transpile the files if they change so you get realtime updating of the &lt;a href=&#34;https://www.fusetools.com/&#34;&gt;fuse&lt;/a&gt; application.&lt;/p&gt;

&lt;p&gt;Now the directories:&lt;/p&gt;

&lt;h2 id=&#34;app&#34;&gt;App&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;App&lt;/code&gt; directory has all the necessary files that &lt;a href=&#34;https://www.fusetools.com/&#34;&gt;Fuse&lt;/a&gt; requires to build&lt;/p&gt;

&lt;h3 id=&#34;test-unoproj&#34;&gt;test.unoproj&lt;/h3&gt;

&lt;p&gt;This is the project file for Fuse, it has settings for the different platforms and controls which gets embedded in the application.&lt;/p&gt;

&lt;h3 id=&#34;mainview-ux&#34;&gt;MainView.ux&lt;/h3&gt;

&lt;p&gt;This is the main view markup file for the user interface.&lt;/p&gt;

&lt;h2 id=&#34;src&#34;&gt;src&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;src&lt;/code&gt; folder has all the F# source files that &lt;a href=&#34;http://fsprojects.github.io/Fable/&#34;&gt;Fable&lt;/a&gt; transpiles into JavaScript.&lt;/p&gt;

&lt;h3 id=&#34;fableconfig-json&#34;&gt;fableconfig.json&lt;/h3&gt;

&lt;p&gt;This is the configuration file for Fable which allows you to run scrip before or after compilation and set various defaults.&lt;/p&gt;

&lt;h3 id=&#34;test-fs&#34;&gt;test.fs&lt;/h3&gt;

&lt;p&gt;This is the main source file for F# and is the same as the one you saw in the previous post:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;namespace App
open Fable.Core
open Fuse
open Fable.Import
open Fable.Import.Fetch

module test =
    let data = Observable.create()

    promise {
        let! req = GlobalFetch.fetch (Url &amp;quot;http://az664292.vo.msecnd.net/files/ZjPdBhWNdPRMI4qK-colors.json&amp;quot;)
        let! json = req.json ()
        do (data.value &amp;lt;- json) } |&amp;gt; ignore
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is fairly easy to follow, the &lt;code&gt;promise&lt;/code&gt; block is a custom &lt;a href=&#34;https://msdn.microsoft.com/visualfsharpdocs/conceptual/computation-expressions-%5Bfsharp%5D&#34;&gt;computation expression&lt;/a&gt; that allows each successful JavaScript
promise to execute before the next promise is ran.  In this example &lt;code&gt;GlobalFetch.fetch&lt;/code&gt; and &lt;code&gt;req.json()&lt;/code&gt; both return JavaScript
promises. The promise block runs the &lt;code&gt;GlobalFetch.fetch&lt;/code&gt; function and if it &lt;em&gt;succeeds&lt;/em&gt; it runs the &lt;code&gt;req.json()&lt;/code&gt;
function.  If that too is successful then the observable value &lt;code&gt;data&lt;/code&gt; is updated to the resulting json data.&lt;/p&gt;

&lt;h2 id=&#34;node-modules&#34;&gt;node-modules&lt;/h2&gt;

&lt;p&gt;These are our dependencies, there&amp;rsquo;s fable-core which is required by &lt;a href=&#34;http://fsprojects.github.io/Fable/&#34;&gt;Fable&lt;/a&gt;, also included are &lt;a href=&#34;https://www.npmjs.com/package/fable-fuse&#34;&gt;fable-fuse&lt;/a&gt; which
are the F# bindings to the Fuse JavaScript libraries, and &lt;a href=&#34;https://www.npmjs.com/package/fable-import-fetch&#34;&gt;fable-import-fetch&lt;/a&gt; which is the F# bindings for the
&lt;a href=&#34;https://developer.mozilla.org/en/docs/Web/API/Fetch_API&#34;&gt;Fetch JavaScript API&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;running&#34;&gt;Running&lt;/h1&gt;

&lt;p&gt;To get a &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; application running all you have to do is run the build script &lt;code&gt;./build&lt;/code&gt; which transpiles the
F# files into JavaScript and then watches for any updates to the F# files.  Running a Fuse application is also really easy,
you can do this from within Atom via the &lt;a href=&#34;https://atom.io/packages/fuse&#34;&gt;plugin&lt;/a&gt;, or sublime via that &lt;a href=&#34;https://github.com/fusetools/Fuse.SublimePlugin&#34;&gt;plugin&lt;/a&gt;, or simply just run
&lt;code&gt;fuse preview ./App/&lt;/code&gt; from the project root.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;any-problems&#34;&gt;Any Problems?&lt;/h1&gt;

&lt;p&gt;If you have any problems with the Yeoman generator for &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; then please log an issue on its
GitHub repo: &lt;a href=&#34;https://github.com/7sharp9/generator-fable-fuse&#34;&gt;generator-fable-fuse&lt;/a&gt;.  If you have any issues with the fable-fuse module itself then please got an issue
on its GitHub repo: &lt;a href=&#34;https://github.com/7sharp9/fable-fuse&#34;&gt;fable-fuse&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you have an improvements or suggestions then a PR is very welcome too!&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;whats-next&#34;&gt;Whats next?&lt;/h1&gt;

&lt;p&gt;If there is enough interest around using &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; I&amp;rsquo;ll port some of the more intricate samples from the
&lt;a href=&#34;https://www.fusetools.com/examples&#34;&gt;Fuse examples&lt;/a&gt; over to &lt;strong&gt;fable |&amp;gt; fuse&lt;/strong&gt; and also create a GitHub site with all the content relating to it.&lt;/p&gt;

&lt;p&gt;Let me know what you think!!&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;

&lt;hr /&gt;
</description>
    </item>
    
    <item>
      <title>Light The Fuse</title>
      <link>http://7sharpnine.com/2016/06/03/light-the-fuse/</link>
      <pubDate>Fri, 03 Jun 2016 11:21:57 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2016/06/03/light-the-fuse/</guid>
      <description>

&lt;p&gt;In this post Im going to be introducing something new and exciting the combination of F#, Fable and Fuse.  If I was American I might say this was the holy trinity of awesomeness!&lt;/p&gt;

&lt;p&gt;This is the start of an exciting new series on using F# as a transpiling language to &amp;ldquo;light the Fuse&amp;rdquo; (pun intended) on new platform and opportunities for F#.&lt;/p&gt;

&lt;p&gt;OK, so now for the introductions&amp;hellip;&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;what-is-fable&#34;&gt;What is Fable&lt;/h1&gt;

&lt;p&gt;Put simply Fable is a transpiler for F# that turn F# into JavaScript.  Lets face it JavaScript is really pervasive but not everyone wants to write it.  You can read about how Fable works &lt;a href=&#34;http://fsprojects.github.io/Fable/&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;what-is-fuse&#34;&gt;What is fuse?&lt;/h1&gt;

&lt;p&gt;Taken from their site this is what fuse is in a nutshell:&lt;/p&gt;

&lt;h2 id=&#34;fuse-is-for-mobile-app-designers-and-developers&#34;&gt;FUSE IS FOR MOBILE APP DESIGNERS AND DEVELOPERS&lt;/h2&gt;

&lt;p&gt;Create and update the look and feel for native apps in real time
on multiple devices simultaneously.&lt;/p&gt;

&lt;p&gt;Fuse is a set of tools (currently in beta) that makes design and developing native mobile apps for iOS and Android fast, easy and fun. Fuse is free, and we’re actively working towards making it Open Source as well.&lt;/p&gt;

&lt;p&gt;Fuse introduces UX Markup - a XML-based language for creating truly native, data-driven, responsive, smoothly animated and highly interactive experiences, while sharing most of the code between iOS and Android. UX is easy to learn and incredibly powerful.&lt;/p&gt;

&lt;p&gt;Fuse is fast. Based on Uno, a language which compiles down to pure C++ code, and seamlessly interops with Objective-C (iOS) and Java (Android) where needed. The UI is rendered using native platform controls, OpenGL or a combination (best of both worlds).&lt;/p&gt;

&lt;p&gt;For business logic, Fuse runs JavaScript on a separate thread on both iOS and Android, so your UI is fast and responsive no matter what it is doing. Fuse lets you call seamlessly into C++, Java and Objective-C libraries through Uno when you need it.&lt;/p&gt;

&lt;p&gt;You can read about Fuse in more depth on their site &lt;a href=&#34;https://www.fusetools.com/&#34;&gt;here&lt;/a&gt;, you really should take a look.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;introducing-fable-fuse&#34;&gt;Introducing &lt;strong&gt;Fable |&amp;gt; Fuse&lt;/strong&gt;&lt;/h1&gt;

&lt;p&gt;Fable-Fuse is a set of packages that allows you use power of F# with &lt;a href=&#34;https://www.fusetools.com/&#34;&gt;Fuse&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;First of all lets have a little look at some declarative UI with Fuse.&lt;/p&gt;

&lt;p&gt;This is taken from the original Fuse Sample titled &lt;strong&gt;&lt;em&gt;Parsing JSON fetched over HTTP&lt;/em&gt;&lt;/strong&gt;   which is located &lt;a href=&#34;https://www.fusetools.com/examples/http-json&#34;&gt;here&lt;/a&gt;&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://res.cloudinary.com/fusetools/image/upload/w_450%2Ch_450%2Cdpr_1.0%2Cc_limit/examples/media/4343ca40291fab07d70ef87254204bed_http-json-example.webp&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;pre&gt;&lt;code&gt;&amp;lt;App Theme=&amp;quot;Basic&amp;quot; Background=&amp;quot;#eee&amp;quot;&amp;gt;
    &amp;lt;DockPanel&amp;gt;
        &amp;lt;StatusBarBackground Dock=&amp;quot;Top&amp;quot; /&amp;gt;
        &amp;lt;BottomBarBackground Dock=&amp;quot;Bottom&amp;quot; /&amp;gt;
        &amp;lt;ScrollView&amp;gt;
            &amp;lt;Grid ColumnCount=&amp;quot;2&amp;quot;&amp;gt;
                &amp;lt;JavaScript&amp;gt;
                    var Observable = require(&amp;quot;FuseJS/Observable&amp;quot;);

                    var data = Observable();

                    fetch(&#39;http://az664292.vo.msecnd.net/files/ZjPdBhWNdPRMI4qK-colors.json&#39;)
                        .then(function(response) { return response.json(); })
                        .then(function(responseObject) { data.value = responseObject; });

                    module.exports = {
                        data: data
                    };
                &amp;lt;/JavaScript&amp;gt;
                &amp;lt;Each Items=&amp;quot;{data.colorsArray}&amp;quot;&amp;gt;
                    &amp;lt;DockPanel Height=&amp;quot;120&amp;quot; Margin=&amp;quot;10,0&amp;quot;&amp;gt;
                        &amp;lt;Panel DockPanel.Dock=&amp;quot;Top&amp;quot; Margin=&amp;quot;10&amp;quot; Height=&amp;quot;30&amp;quot;&amp;gt;
                            &amp;lt;Rectangle Layer=&amp;quot;Background&amp;quot; CornerRadius=&amp;quot;10&amp;quot; Fill=&amp;quot;#fff&amp;quot;/&amp;gt;
                            &amp;lt;Text Value=&amp;quot;{colorName}&amp;quot; TextAlignment=&amp;quot;Center&amp;quot; Alignment=&amp;quot;Center&amp;quot; /&amp;gt;
                        &amp;lt;/Panel&amp;gt;

                        &amp;lt;Rectangle Layer=&amp;quot;Background&amp;quot; CornerRadius=&amp;quot;10&amp;quot; Fill=&amp;quot;{hexValue}&amp;quot;/&amp;gt;
                    &amp;lt;/DockPanel&amp;gt;
                &amp;lt;/Each&amp;gt;
            &amp;lt;/Grid&amp;gt;
        &amp;lt;/ScrollView&amp;gt;
    &amp;lt;/DockPanel&amp;gt;
&amp;lt;/App&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see the UI mark-up is concise and easy to follow, also notice the JavaScript element which can be in-line, as shown here, or placed in a separate file.  We will place this in a separate file so that we can transpile from F# using &lt;a href=&#34;http://fsprojects.github.io/Fable/&#34;&gt;Fable&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;namespace Program
open Fable.Core
open Fuse
open Fable.Import
open Fable.Import.Fetch

module HttpJson =
    let data = Observable.create()
    promise {
        let! req = GlobalFetch.fetch (Url &amp;quot;http://az664292.vo.msecnd.net/files/ZjPdBhWNdPRMI4qK-colors.json&amp;quot;)
        let! json = req.json ()
        do (data.value &amp;lt;- json) } |&amp;gt; ignore
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can see here there is a custom computation expression that allows you to use JavaScrip promises, you could also use a pipeline oriented definition too, like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;GlobalFetch.fetch (Url &amp;quot;http://az664292.vo.msecnd.net/files/ZjPdBhWNdPRMI4qK-colors.json&amp;quot;)
|&amp;gt; Promise.success (fun resp -&amp;gt; resp.json())                                                                          
|&amp;gt; Promise.success (fun json -&amp;gt; data.value &amp;lt;- json) 
|&amp;gt; ignore
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Or if you really really wanted to you could integrate this into an F# async with a little helper type extension:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;module AsyncExtensions =    
    type Microsoft.FSharp.Control.AsyncBuilder with
        member x.Bind(p, f) = 
            async.Bind (Async.AwaitPromise(p), f)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This would allow you to use a promise with an ordinary &lt;code&gt;let!&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;async {
    let! req = GlobalFetch.fetch &amp;quot;http://az664292.vo.msecnd.net/files/ZjPdBhWNdPRMI4qK-colors.json&amp;quot;
    let! json = req.json ()
    do (data.value &amp;lt;- json) } |&amp;gt; Async.Start 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Anyway I digress, needless to say there are various options with promises and how to handle them with &lt;strong&gt;Fable |&amp;gt; Fuse&lt;/strong&gt;.&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://i.imgur.com/P4YcEi7.png&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;What&amp;rsquo;s more because Fuse and Fable are real-time you can edit the UX definitions and it the application in real-time across multiple devices!&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://7sharpnine.com/img/fable-fuse/realtime.gif&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;hr /&gt;

&lt;h2 id=&#34;so-how-do-i-get-started-with-fable-fuse&#34;&gt;So how do I get started with &lt;strong&gt;Fable |&amp;gt; Fuse&lt;/strong&gt; ?&lt;/h2&gt;

&lt;p&gt;Well you&amp;rsquo;ll have to hold your horses, I was so excited to share this introductory post I haven&amp;rsquo;t wrote that part yet.  The package I&amp;rsquo;m working on is still private while I finalise things and make it really easy and friendly to create applications with &lt;strong&gt;Fable |&amp;gt; Fuse&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Stay tuned as there will be more in this series next week as I discuss the more technical aspects and how to create your first &lt;strong&gt;Fable |&amp;gt; Fuse&lt;/strong&gt; application.&lt;/p&gt;

&lt;p&gt;If there is enough interest I will also live stream this on my &lt;a href=&#34;https://www.livecoding.tv/7sharp9/&#34;&gt;livecoding.tv channel&lt;/a&gt;, please subscribe.&lt;/p&gt;

&lt;p&gt;A really big thanks to Alfonso Garcia-Caro (&lt;a href=&#34;https://twitter.com/alfonsogcnunez&#34;&gt;@alfonsogcnunez&lt;/a&gt;) creator of Fable for answering all my annoying questions.  And Lars Thomas Denstad (&lt;a href=&#34;https://twitter.com/COCPORN&#34;&gt;@cocporn&lt;/a&gt;) for help creating the Fuse API bindings for Fable.&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>New Adventures</title>
      <link>http://7sharpnine.com/2016/05/31/new-adventures/</link>
      <pubDate>Tue, 31 May 2016 13:24:29 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2016/05/31/new-adventures/</guid>
      <description>

&lt;p&gt;So today was my last day at Xamarin.&lt;/p&gt;

&lt;p&gt;I have decided to move on and have some fabulous new adventures.  I don&amp;rsquo;t know quite where this will lead me yet but its going to be exciting finding out!&lt;/p&gt;

&lt;h3 id=&#34;why-you-may-ask&#34;&gt;Why? you may ask.&lt;/h3&gt;

&lt;p&gt;I&amp;rsquo;ve been working for Xamarin since 22nd October 2013 on F# tooling and engineering.  Over a period of time it&amp;rsquo;s very easy to become comfortable and complacent and no longer be challenged.  I have a hacker mentality, I need to create new things, crack difficult problems, experiment.   There are various other reasons too, but with the Microsoft acquisition now seemed as good a time as any to say goodbye and move on.&lt;/p&gt;

&lt;h3 id=&#34;what-s-next&#34;&gt;What&amp;rsquo;s Next?&lt;/h3&gt;

&lt;p&gt;So in a nutshell, I will also be writing, live-streaming and working on my own new and wonderful things to challenge myself and push my boundaries.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ll once again available for some consulting work too, so feel free to ping me.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Until next time!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>flame on</title>
      <link>http://7sharpnine.com/2016/05/29/flame-on/</link>
      <pubDate>Sun, 29 May 2016 20:35:29 +0100</pubDate>
      
      <guid>http://7sharpnine.com/2016/05/29/flame-on/</guid>
      <description>

&lt;p&gt;A few weeks back I posted on Twitter that I was experimenting with flame graphs, In this post I will share how this was accomplished.&lt;/p&gt;

&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Lately I have been flame graphing &lt;a href=&#34;https://twitter.com/hashtag/fsharp?src=hash&#34;&gt;#fsharp&lt;/a&gt; performance just for fun.  You cant have too many pretty graphs! :-) &lt;a href=&#34;https://t.co/3gu9pOJp28&#34;&gt;pic.twitter.com/3gu9pOJp28&lt;/a&gt;&lt;/p&gt;&amp;mdash; Dave Thomas (@7sharp9_exhumed) &lt;a href=&#34;https://twitter.com/7sharp9_exhumed/status/721829320646389762&#34;&gt;April 17, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;h3 id=&#34;requirements&#34;&gt;Requirements&lt;/h3&gt;

&lt;p&gt;First of all the requirements, I&amp;rsquo;m assuming your using a Mac just as I am.  If you are not then you might be able to use x-perf for windows check out &lt;a href=&#34;https://randomascii.wordpress.com/2013/03/26/summarizing-xperf-cpu-usage-with-flame-graphs/&#34;&gt;summarizing-xperf-cpu-usage-with-flame-graphs&lt;/a&gt; for information in that area.  I don&amp;rsquo;t really use Windows that often but if I do happen to try this out on Windows then I&amp;rsquo;ll pop back here and update this post.&lt;/p&gt;

&lt;p&gt;OK, so back to requirements, a Mac, Mono Installation, &lt;a href=&#34;https://developer.apple.com/xcode/&#34;&gt;Xcode&lt;/a&gt; installed so that you can use &lt;a href=&#34;https://developer.apple.com/library/tvos/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/#//apple_ref/doc/uid/TP40004652-CH3-SW1&#34;&gt;Instruments&lt;/a&gt; to collect trace information, clone the FlameGraph repo itself:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone https://github.com/brendangregg/FlameGraph
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The FlameGraph repo is a bunch of scripts to help process the trace data and produce an svg.  You can read more about FlameGraphs here: &lt;a href=&#34;http://www.brendangregg.com/flamegraphs.html&#34;&gt;http://www.brendangregg.com/flamegraphs.html&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;aot-the-framework&#34;&gt;AOT the framework&lt;/h3&gt;

&lt;p&gt;Next step is to AOT compile all the mono runtime assemblies, you can do this by running the following commands from your mono installation.  For me this would be:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd /Library/Frameworks/Mono.framework/Versions/4.4.0/lib/mono/
for i in `find gac -name &#39;*dll&#39;` */mscorlib.dll; do
   mono --aot $i
done
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;aot-your-app&#34;&gt;AOT Your app&lt;/h3&gt;

&lt;p&gt;Now you need to AOT you applications files with the same command&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mono --aot myApp.exe
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;attaching-instruments&#34;&gt;Attaching Instruments&lt;/h3&gt;

&lt;p&gt;Now you are ready to run your app and attach Instruments or have Instruments launch your app.&lt;/p&gt;

&lt;p&gt;For simplicity I opted to add this to the beginning of my app:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;printfn &amp;quot;Press any key to start&amp;quot;
Console.ReadKey() |&amp;gt; ignore
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;That way I could just launch my app (noting the process id) and use the process browser within Instruments to attach.&lt;br /&gt;
Now launch Instruments and select the Time Profiler template:&lt;/p&gt;


&lt;figure class=&#34;6u&#34;&gt;
    
        &lt;img src=&#34;http://7sharpnine.com/img/flame-on/timeprofiler-template.png&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;You can tweak the sampling interval with the settings on the right, in my example below I was using 40us because it was a really fast executing demo.&lt;/p&gt;

&lt;p&gt;Use the process browser in Instruments to choose the mono process running my app e.g. mono (16314).&lt;/p&gt;

&lt;p&gt;Now that instruments is attached hit the big red record button and hit any key on you app to start collecting data.  When you are finished just hit the top button in Instruments.&lt;/p&gt;

&lt;p&gt;You should end up with something similar to this, I used a few cycles of my 68000 emulator to get this data:&lt;/p&gt;


&lt;figure class=&#34;8u&#34;&gt;
    
        &lt;img src=&#34;http://7sharpnine.com/img/flame-on/trace.png&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;h3 id=&#34;exporting-the-data&#34;&gt;Exporting The Data&lt;/h3&gt;

&lt;p&gt;Exporting the data is pretty easy, use expand all on a node in the collected data using &lt;code&gt;Cmd cLick&lt;/code&gt;, you can also add filters to the data, I used &lt;code&gt;Atari&lt;/code&gt; in the screen-shot above to constrain the output to nodes that contained &lt;code&gt;Atari&lt;/code&gt;.  Now select export from the instrument menu:

&lt;figure class=&#34;6u&#34;&gt;
    
        &lt;img src=&#34;http://7sharpnine.com/img/flame-on/export.png&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h3 id=&#34;producing-the-flamegraph&#34;&gt;Producing the FlameGraph&lt;/h3&gt;

&lt;p&gt;Now you can open a move to the flamegraph repo that you cloned earlier and execute the following command replacing myoutput.csv|svg with your input/outputs.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./stackcollapse-instruments.pl myoutput.csv | ./flamegraph.pl &amp;gt;myoutput.svg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You should now have a funky FlameGraph!&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;http://7sharpnine.com/img/flame-on/68kcpusteps.svg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;You could quite easily post process the csv output to clean up the mangled names that are a result of the AOT process.&lt;/p&gt;

&lt;p&gt;Until next time &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>About Me</title>
      <link>http://7sharpnine.com/page/about/</link>
      <pubDate>Fri, 29 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/page/about/</guid>
      <description>&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://7sharpnine.com/img/working.jpg&#34; /&gt;
    
    
&lt;/figure&gt;

Hi, my name is Dave Thomas and Im a software engineer from the Uk.  I work primarily in F# but also like to tinker with pretty much any interesting language.  Im drawn to more functional languages like F#, Elixir, Elm, but also like to use Go, Rust, and recently Pony.&lt;/p&gt;

&lt;p&gt;When Im not working I like: playing guitar, woodworking, watercolour sketching, and practicing yoga.&lt;/p&gt;

&lt;p&gt;Have questions or suggestions? Feel free to &lt;a href=&#34;https://twitter.com/7sharp9_exhumed&#34;&gt;ask me on Twitter&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks for reading!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building Emulators in FSharp</title>
      <link>http://7sharpnine.com/2016/03/06/2016-03-06-building-emulators-in-fsharp/</link>
      <pubDate>Sun, 06 Mar 2016 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2016/03/06/2016-03-06-building-emulators-in-fsharp/</guid>
      <description>&lt;p&gt;So I wanted to briefly talk about what I&amp;rsquo;ve been up to lately.   I&amp;rsquo;ve been doing a spot of compiler hacking, working on improving type Providers and generally tinkering with concepts relating to macros etc.  I&amp;rsquo;ve also been tinkering with the Elixir and Rust programming languages which I like a lot.  I might write about those things at a later time depending on my train of thought which can be quite disjoint.  What was I talking about again?  :-)&lt;/p&gt;

&lt;p&gt;So, emulators, that&amp;rsquo;s what I was going to talk about.  Lately I&amp;rsquo;ve been thinking about emulators, reading about them, and also watching streams about writing them.  I&amp;rsquo;ve always been interested in emulators but never sat down and looked at the theory or written one.  So I&amp;rsquo;ve started live streaming creating one on &lt;a href=&#34;https://www.livecoding.tv/livestreams/&#34;&gt;LiveCoding.tv&lt;/a&gt; which is apparently where you go to:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Watch coders code products live and hang out with them&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;So I&amp;rsquo;ve started live coding an &lt;a href=&#34;https://en.wikipedia.org/wiki/Atari_ST&#34;&gt;Atari ST&lt;/a&gt; emulator with its &lt;a href=&#34;https://en.wikipedia.org/wiki/Motorola_68000&#34;&gt;68000 CPU&lt;/a&gt; using LiveCoding.tv.  I&amp;rsquo;ve chosen an Atari St because it was one of the computers that I grew up with and the computer I first started to program on.  I have many many fond memories of it.  I may also stream about building other types of emulators not just the 68000.  There are plenty of interesting hardware systems and processor types that I grew up with.  I was thinking of building an arcade emulator such as &lt;a href=&#34;https://en.wikipedia.org/wiki/CP_System&#34;&gt;Capcom Play System&lt;/a&gt; but the technical data is a bit more difficult to get hold of.&lt;/p&gt;

&lt;p&gt;In some respects emulator coding is quite tricky, a lot of research and digging is required to get the relevant information you need, and a lot of grunt work inputting data can also be involved too.  In short its not a trivial task, at least it isn&amp;rsquo;t if you want to do one properly.  I cant promise it will be super interesting, or even done properly, but it will be raw coding warts and all :-)&lt;/p&gt;

&lt;p&gt;You can find my channel here &lt;a href=&#34;https://www.livecoding.tv/7sharp9/&#34;&gt;Building Emulators with F#&lt;/a&gt; I normally stream a couple of days a week, currently Wednesday and Friday 17:00 GMT but I also may also stream at other times too.&lt;/p&gt;

&lt;p&gt;Until next time &amp;hellip;&lt;/p&gt;

&lt;hr style=&#34;margin: 1em 0&#34;&gt;
&lt;h1 id=&#34;essential-listening&#34;&gt;Essential listening:&lt;/h1&gt;


&lt;div class=&#34;pure-g&#34;&gt;

  
  
  
  
  &lt;div class=&#34;&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;https://upload.wikimedia.org/wikipedia/en/9/93/MegadethDystopia.png&#34; style=&#34;margin: 0&#34;
                 alt=&#34;Megadeth - Dystopia&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;Megadeth - Dystopia&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

  
  
  
  
  &lt;div class=&#34;&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;https://upload.wikimedia.org/wikipedia/en/0/06/Xentrix-Kin.jpg&#34; style=&#34;margin: 0&#34;
                 alt=&#34;Xentrix - Kin&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;Xentrix - Kin&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

&lt;/div&gt;




</description>
    </item>
    
    <item>
      <title>F# Community Hero</title>
      <link>http://7sharpnine.com/2015/10/25/2015-10-25-f-community-hero/</link>
      <pubDate>Sun, 25 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2015/10/25/2015-10-25-f-community-hero/</guid>
      <description>&lt;p&gt;Ive been meaning to write this post for ages but Ive only just found the time.&lt;/p&gt;

&lt;p&gt;On the 3rd of September my good friend Ryan Riley (aka &lt;a href=&#34;https://twitter.com/panesofglass&#34;&gt;@panesofglass&lt;/a&gt;) emailed me letting me know I had won a Community for F# hero award for 2015!&lt;/p&gt;

&lt;p&gt;I want to say a big thank you to everyone who voted for me.  Its really nice to be recognized for the things that you do.&lt;/p&gt;

&lt;p&gt;Anyway, this is just a quick post to say thanks, and share a cup of coffee :-)&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://farm6.staticflickr.com/5787/22472995755_40e96870b2.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;Until next time &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Reckoning day</title>
      <link>http://7sharpnine.com/2015/07/16/2015-07-16-reckoning-day/</link>
      <pubDate>Thu, 16 Jul 2015 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2015/07/16/2015-07-16-reckoning-day/</guid>
      <description>

&lt;p&gt;
&lt;figure class=&#34;img-left&#34;&gt;
    
        &lt;img src=&#34;https://farm1.staticflickr.com/256/18984716933_b7f2cbe6fb_t.jpg&#34; /&gt;
    
    
&lt;/figure&gt;

I&amp;rsquo;ve finally been awarded a &lt;a href=&#34;https://mvp.microsoft.com/en-us/default.aspx&#34;&gt;Microsoft MVP&lt;/a&gt; its been quite a long time coming.  Ive been nominated for MVP every year since July 2011 but until now I have been unsuccessful.  On the 1st of July I received an email congratulating me that I had been successful on my MVP nomination.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;I am now officially a Microsoft Most Valued Professional!&lt;/strong&gt;

&lt;figure &gt;
    
        &lt;img src=&#34;https://farm1.staticflickr.com/271/18984720063_55b4c8d2cf_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;I was first nominated in July 2011 which seems like an age ago.  I have been
nominated various times each year since then.  There are various activities that
I have been involved in over the that last four or so years in F#.  Here are the
ones that I feel particularly proud of:&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;blogging&#34;&gt;Blogging&lt;/h1&gt;

&lt;p&gt;I write about various F# topics that I find interesting.  They are usually technical
in nature or just what I find interesting or challenging at the time.  If I can
help someone else figure something out from one of my posts, or bootstrap an
interesting new project, then all the better!&lt;/p&gt;

&lt;h1 id=&#34;renovating-f-addin-for-monodevelop&#34;&gt;Renovating F# addin for MonoDevelop&lt;/h1&gt;

&lt;p&gt;When I first started using F# on OSX the MonoDevelop F# addin was pretty derelict,
it hadn&amp;rsquo;t been updated for sometime and didn&amp;rsquo;t even compile.  It took quite a
learning curve but I soon got up to speed and managed to improve things bit by bit.&lt;/p&gt;

&lt;p&gt;Editor support and general tooling can take a lot of time and effort, you can often
get stuck on things with no clue on how to resolve something without digging deep
within the F# compiler.  Im sure Don Syme has a spam filter on my emails by now :-)&lt;/p&gt;

&lt;h1 id=&#34;f-on-ios&#34;&gt;F# on IOS&lt;/h1&gt;

&lt;p&gt;Around January 2013 I managed to get F# working on iOS devices, you can read some
of the details in &lt;a href=&#34;http://7sharpnine.com/posts/monotouch-and-fsharp-part-i/&#34;&gt;part one&lt;/a&gt; and &lt;a href=&#34;http://7sharpnine.com/posts/monotouch-and-fsharp-part-ii/&#34;&gt;part two&lt;/a&gt;.  It was really exciting to get
a shinny new platform availably for F#!&lt;/p&gt;

&lt;h1 id=&#34;edge-fs&#34;&gt;Edge.fs&lt;/h1&gt;

&lt;p&gt;Before the FSharp.Compiler.Service even came to light I heard about &lt;a href=&#34;http://tjanczuk.github.io/edge/#/&#34;&gt;Edge.js&lt;/a&gt; and
wanted to have F# support, so in May 2013 I set about implementing it.  I
ended up playing around in the compiler trying to figure how things worked.  You
can read all about that &lt;a href=&#34;http://7sharpnine.com/posts/i-node-something/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&#34;f-for-scriptcs&#34;&gt;F# for ScriptCS&lt;/h1&gt;

&lt;p&gt;Around June 2013 &lt;a href=&#34;http://scriptcs.net&#34;&gt;ScriptCS&lt;/a&gt; was getting a great deal of publicity on Twitter so I
decided it was about time F# should be &lt;a href=&#34;http://7sharpnine.com/posts/can-i-have-some-fsharp-with-that/&#34;&gt;part of it&lt;/a&gt;.  This was also another
opportunity to start hacking in the compiler again, ultimately this ended up with
better programmatic REPL support added to the F# compiler.&lt;/p&gt;

&lt;h1 id=&#34;creation-of-f-compiler-service&#34;&gt;Creation of F# Compiler Service&lt;/h1&gt;

&lt;p&gt;As part of working on the &lt;a href=&#34;https://github.com/fsharp/xamarin-monodevelop-fsharp-addin&#34;&gt;F# plugin&lt;/a&gt; for MonoDevelop it came to light that better
support was needed for the F# compiler so that better tool integration could be
built.  I worked to try and consolidate different areas of the the compiler that
were being used by disparate tooling at the time.  This eventually lead to working
with Don Syme to create &lt;a href=&#34;http://fsharp.github.io/FSharp.Compiler.Service/&#34;&gt;FSharp.Compiler.Service&lt;/a&gt;.  Over time this repository has
been improved and lead to even better tooling for all editors and IDE&amp;rsquo;s that use it.&lt;/p&gt;

&lt;h1 id=&#34;fsharp-core-nuget-package&#34;&gt;FSharp.Core nuget package&lt;/h1&gt;

&lt;p&gt;I petitioned for some time to get better PCL support for F#, namely the quite
common profiles 78 &lt;em&gt;(.NET Framework 4.5, Windows 8, Windows Phone Silverlight 8)&lt;/em&gt;
and 259 &lt;em&gt;(.NET Framework 4.5, Windows 8, Windows Phone 8.1, Windows Phone Silverlight 8)&lt;/em&gt;.   Once
the extra profiles were brought to fruition I created a nuget package to deploy
them for easy consumption.&lt;/p&gt;

&lt;h1 id=&#34;f-community-bad-ass&#34;&gt;F# Community Bad Ass&lt;/h1&gt;

&lt;p&gt;This is one of my favorites:  In May 2014 I was awarded the F# community Badass
award at &lt;a href=&#34;http://www.meetup.com/FSharpLondon/&#34;&gt;Functional Londoners&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/7sharp9&#34;&gt;@7sharp9&lt;/a&gt; &lt;a href=&#34;https://twitter.com/fsharporg&#34;&gt;@fsharporg&lt;/a&gt; &amp;quot;For services to the F# community in open source, cross-platform IDE, mobile and runtime tools&amp;quot;. Badass #1&lt;/p&gt;&amp;mdash; Don Syme (@dsyme) &lt;a href=&#34;https://twitter.com/dsyme/status/464669331889340416&#34;&gt;May 9, 2014&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;p&gt;I wish I had got an official trophy for that, it would have looked really good on
the mantlepiece!  :-)&lt;/p&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://farm1.staticflickr.com/256/18984716933_b7f2cbe6fb_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;p&gt;Until next time &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Meta-Matic</title>
      <link>http://7sharpnine.com/2015/07/12/2015-07-08-meta-matic/</link>
      <pubDate>Sun, 12 Jul 2015 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2015/07/12/2015-07-08-meta-matic/</guid>
      <description>

&lt;p&gt;Sit down, strap in, and prepare for take off, we&amp;rsquo;re going Meta-Matic!&lt;/p&gt;

&lt;p&gt;We&amp;rsquo;re going to be exploring some &lt;a href=&#34;https://en.wikipedia.org/wiki/Metaprogramming&#34;&gt;metaprogramming&lt;/a&gt; magic in F#.  Transforming
its abstract syntax tree (&lt;a href=&#34;https://en.wikipedia.org/wiki/Abstract_syntax_tree&#34;&gt;AST&lt;/a&gt;) into another languages AST before executing
it in another &lt;a href=&#34;https://en.wikipedia.org/wiki/Virtual_machine&#34;&gt;virtual machine&lt;/a&gt;, Exciting!!&lt;/p&gt;

&lt;h1 id=&#34;background&#34;&gt;Background&lt;/h1&gt;

&lt;p&gt;&lt;blockquote cite=&#34;&#34;&gt;
  &lt;p&gt;Nothing really known can continue to be acutely fascinating&lt;/p&gt;

  &lt;cite&gt;H.P Lovecraft&lt;/cite&gt;
&lt;/blockquote&gt;
First a little bit of background.  There are three main forms of metaprogramming
in F#, although you could call &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/hh156509.aspx&#34;&gt;Type Providers&lt;/a&gt; a form of metaprogramming albeit
limited in scope.  I shall now briefly describe each below.&lt;/p&gt;

&lt;h2 id=&#34;quotations&#34;&gt;Quotations&lt;/h2&gt;

&lt;p&gt;According to MSDN:&lt;/p&gt;

&lt;blockquote cite=&#34;https://msdn.microsoft.com/en-us/library/dd233212.aspx?f=255&amp;amp;MSPPError=-2147217396&#34;&gt;
  &lt;p&gt;Code quotations, a language feature that enables you to generate and work with
F# code expressions programmatically. This feature lets you generate an abstract
syntax tree that represent&amp;rsquo;s F# code. The abstract syntax tree can then be traversed
and processed according to the needs of your application&lt;/p&gt;

  &lt;cite&gt;&lt;/cite&gt;
&lt;/blockquote&gt;

&lt;p&gt;Quotations are fairly useful for translating some parts of the F# language to another
language.  They can depend on &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/f7ykdhsy(v=vs.110).aspx&#34;&gt;Reflection&lt;/a&gt; and having compiled DLLs for any types
referenced in the quoted expression.  They also have limitations like types are
not supported, neither are variables that escape their quoted scope, and also
generic definitions are not supported.  They cant really be used for staged
metaprogramming where you may need to refer to the full language and its constructs.&lt;/p&gt;

&lt;h3 id=&#34;code-example&#34;&gt;Code Example&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;&amp;lt;@ [for i in 1 .. 10 do yield i * i] @&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A textual representation of what this looks like is as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Quotations.Expr&amp;lt;int list&amp;gt; =
  Call (None, ToList,
    [Call (None, CreateSequence,
      [Call (None, Delay,
        [Lambda (unitVar,
          Call (None, Map,
            [Lambda (i, Call (None, op_Multiply, [i, i])),
              Call (None, op_Range,
                [Value (1), Value (10)])]))])])])
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;untyped-ast&#34;&gt;Untyped AST&lt;/h2&gt;

&lt;p&gt;There&amp;rsquo;s also the untyped &lt;a href=&#34;https://en.wikipedia.org/wiki/Abstract_syntax_tree&#34;&gt;AST&lt;/a&gt; that can be manipulated in some ways although
it&amp;rsquo;s not exactly pleasant to do.&lt;/p&gt;

&lt;h3 id=&#34;code-example-1&#34;&gt;Code Example&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;[for i in 1 .. 10 do yield i * i]  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A textual representation of what this looks like is as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;[SynModuleOrNamespace
   ([Test
       {idRange = Test.fs (1,0--1,0);
        idText = &amp;quot;Test&amp;quot;;}],true,
    [DoExpr
       (SequencePointAtBinding
          Test.fs (1,0--1,33)
            {...},
        ArrayOrListOfSeqExpr
          (false,
           CompExpr
             (true,{contents = true;},
              ForEach
                (SequencePointAtForLoop
                   Test.fs (1,1--1,20)
                     {...},
                 SeqExprOnly false,true,
                 Named
                   (Wild
                      Test.fs (1,5--1,6)
                        {...},
                    i {idRange = Test.fs (1,5--1,6);
                       idText = &amp;quot;i&amp;quot;;},false,null,
                    Test.fs (1,5--1,6)
                      {...}),
                 App
                   (NonAtomic,false,
                    App
                      (NonAtomic,true,
                       Ident
                         op_Range
                           {idRange = Test.fs (1,12--1,14);
                            idText = &amp;quot;op_Range&amp;quot;;},
                       Const
                         (Int32 1,
                          Test.fs (1,10--1,11)
                            {...}),
                       Test.fs (1,10--1,14)
                         {...}),
                    Const
                      (Int32 10,
                       Test.fs (1,15--1,17)
                         {...}),
                    Test.fs (1,10--1,17)
                      {...}),
                 YieldOrReturn
                   ((true, false),
                    App
                      (NonAtomic,false,
                       App
                         (NonAtomic,true,
                          Ident
                            op_Multiply
                              {idRange = Test.fs (1,29--1,30);
                               idText = &amp;quot;op_Multiply&amp;quot;;},
                          Ident
                            i {idRange = Test.fs (1,27--1,28);
                               idText = &amp;quot;i&amp;quot;;},
                          Test.fs (1,27--1,30)
                            {...}),
                       Ident
                         i {idRange = Test.fs (1,31--1,32);
                            idText = &amp;quot;i&amp;quot;;},
  &amp;lt;snip&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As you can see it&amp;rsquo;s a bit of a handful, I even omitted some of the range statements
too.  It&amp;rsquo;s possible to manipulate this but it&amp;rsquo;s not exactly easy without a lot of
helper functions and patience.  Maybe I can cover this in a future post as it has
its own use case in terms of F# manipulation and recompilation, but that&amp;rsquo;s a whole
other story.  Outside of the compiler it&amp;rsquo;s mainly used for code analysis type operations.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;typed-ast-typed-expressions&#34;&gt;Typed AST / Typed Expressions&lt;/h2&gt;

&lt;p&gt;There&amp;rsquo;s also the Typed AST (TAST) or Typed Expressions that fully represent&amp;rsquo;s the
F# language.  Like quotations, they give you a detailed view of checked/resolved/typed
F# expressions.  They have no dependency on reflection and do not require any on
disk assemblies.  They can be generated for solutions that that contain errors,
and include all F# language constructs including those used in FSharp.Core.&lt;/p&gt;

&lt;h3 id=&#34;code-example-2&#34;&gt;Code Example&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;[for i in 1 .. 10 do yield i * i]  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A textual representation of what this looks like is as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;[Entity
  (Test,
    [InitAction
      Call (null,val toList,[],[int],
        [Call (null,val seq,[],[type int],
          [Call (null,val delay,[],[int],
            [Lambda (val unitVar,
              Call (null,val map,[],
                [type int; type int],
                  [Lambda (val i,
                    Call (null,val op_Multiply,[],
                      [type int; type int;
                        type int],[Value val i; Value val i]));
                          Call (null,val op_Range,[],[type int],
                            [Const (1,type int);
                              Const (10,type int)])]))])])])])] 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this example and the preceding one you will notice that they both begin with
either an &lt;code&gt;Entity&lt;/code&gt; in this example, and &lt;code&gt;SynModuleOrNamespace&lt;/code&gt; in the
previous.  This is because dealing with the full F# metadata means we have access
to the full range of F# syntactic constructs.  Entities also sit within another
file based construct that I have omitted from these examples for the benefit of clarity.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;let-s-get-to-work&#34;&gt;Let&amp;rsquo;s get to work&lt;/h1&gt;

&lt;p&gt;For the purpose of this blog post we are going to use a basic F# module with a
single function.  We will be performing all sorts of black magic so it&amp;rsquo;s best to constrain
this from the outset.  &lt;em&gt;(Note:  Im joking here)&lt;/em&gt;&lt;/p&gt;

&lt;blockquote cite=&#34;&#34;&gt;
  &lt;p&gt;There is nothing more beautiful than an elegant mathematical proof.&lt;/p&gt;

  &lt;cite&gt;H.P. Lovecraft, letter to Frank Belknap Long&lt;/cite&gt;
&lt;/blockquote&gt;

&lt;p&gt;The module and function we will be using is very simple and looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;module Test
   let square x = x * x
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;retrieving-the-tast&#34;&gt;Retrieving the TAST&lt;/h2&gt;

&lt;p&gt;First things first how do we get hold of the TAST?&lt;/p&gt;

&lt;p&gt;We will need the &lt;code&gt;FSharp.Compiler.Service&lt;/code&gt; package that can be installed from your
IDE or favorite command line tool such as nuget:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nuget install FSharp.Compiler.Service
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that it&amp;rsquo;s installed we can start using it.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;#r &amp;quot;../packages/FSharp.Compiler.Service.0.0.89/lib/net45/FSharp.Compiler.Service.dll&amp;quot;
open System
open System.IO
open Microsoft.FSharp.Compiler.SourceCodeServices

let testModule = &amp;quot;&amp;quot;&amp;quot;module Test
   let square x = x * x
&amp;quot;&amp;quot;&amp;quot;

let file = __SOURCE_DIRECTORY__ +  &amp;quot;/Test.fs&amp;quot;
File.WriteAllText(file, testModule)
let checker = FSharpChecker.Create(keepAssemblyContents=true)
let options =
  checker.GetProjectOptionsFromCommandLineArgs(&amp;quot;Test&amp;quot;, [|&amp;quot;-o:Test.dll&amp;quot;;&amp;quot;-a&amp;quot;;file|])
let checkProjectResults =
  checker.ParseAndCheckProject(options) |&amp;gt; Async.RunSynchronously
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In order to examine the TAST we have to make sure that when creating the &lt;code&gt;FSharpChecker&lt;/code&gt;
we set the optional parameter &lt;code&gt;keepAssemblyContents&lt;/code&gt; to true, this lets you examine
the typed AST in full.&lt;/p&gt;

&lt;h2 id=&#34;examining-the-tast&#34;&gt;Examining the TAST&lt;/h2&gt;

&lt;p&gt;Examining &lt;code&gt;checkProjectResults&lt;/code&gt; will yield several properties: &lt;code&gt;AssemblyContents&lt;/code&gt;,
&lt;code&gt;AssemblySignature&lt;/code&gt;, &lt;code&gt;Errors&lt;/code&gt;, &lt;code&gt;HasCriticalErrors&lt;/code&gt;, and &lt;code&gt;ProjectContext&lt;/code&gt;.  Most of
those are pretty obvious, if we examine &lt;code&gt;Errors&lt;/code&gt; and &lt;code&gt;HasCriticalErrors&lt;/code&gt; we could
decide to abandon further processing but for the purposes of this example we are
going to assume that there are no errors.&lt;/p&gt;

&lt;p&gt;The property that we are interested in is &lt;code&gt;AssemblyContents&lt;/code&gt; this essentially
contains a list of &lt;code&gt;ImplementationFiles&lt;/code&gt;, and an &lt;code&gt;ImplementationFile&lt;/code&gt; has a list of
&lt;code&gt;FSharpImplementationFileDeclaration&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s go ahead and examine what we currently have:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;checkProjectResults.AssemblyContents.ImplementationFiles.Head.Declarations
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will yield a similar structure to what you saw above in the list comprehension.&lt;br /&gt;
I have shortened the the &lt;code&gt;Microsoft.FSharp.Core.*&lt;/code&gt; prefixes to save space.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;[Entity
 (Test,
  [MemberOrFunctionOrValue
     (val square,[[val x]],
      Call
        (null,val op_Multiply,[],
         [type int; type int;
          type int],[Value val x; Value val x]))])]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;FSharpImplementationFileDeclaration&lt;/code&gt; is a &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/dd233226.aspx&#34;&gt;discriminated union&lt;/a&gt; type that is defined as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;type FSharpImplementationFileDeclaration = 
  | Entity of FSharpEntity * FSharpImplementationFileDeclaration list
  | MemberOrFunctionOrValue of FSharpMemberOrFunctionOrValue * FSharpMemberOrFunctionOrValue list list * FSharpExpr
  | InitAction of FSharpExpr
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With this in mind we could now traverse the tree with something like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let rec processDecl decl =
  match decl with
  | Entity(ent, declList) -&amp;gt;
      printfn &amp;quot;Entity&amp;quot;
      declList |&amp;gt; List.iter processDecl
  | InitAction(expr) -&amp;gt; printfn &amp;quot;Init Action&amp;quot;
  | MemberOrFunctionOrValue(memb, curriedParameterGroups, expr)-&amp;gt;
      printfn &amp;quot;Member&amp;quot;
      printfn &amp;quot;Expressions: %A&amp;quot; expr

for implFile in checkProjectResults.AssemblyContents.ImplementationFiles do
  for decl in implFile.Declarations do
    processDecl decl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This would yield similar output to what we saw before although we are now getting a
feel for the structure of the tree.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Entity:Test
Member:square
Expressions: Call
  (null,val op_Multiply,[],
   [type int; type int;
    type int],[Value val x; Value val x])
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;preparing-to-transform&#34;&gt;Preparing To transform&lt;/h1&gt;

&lt;p&gt;Ok, so we know a little about the TAST structure and how to navigate it, now we
can look to transform it.  So what can we transform the F# TAST to?&lt;/p&gt;

&lt;p&gt;Absolutely anything we want, but for the purposes of this article let&amp;rsquo;s choose
something interesting &amp;hellip; like Elixir.&lt;/p&gt;

&lt;h2 id=&#34;elixir-language&#34;&gt;Elixir language&lt;/h2&gt;

&lt;p&gt;So what is Elixir?  I&amp;rsquo;ll quote the description from the &lt;a href=&#34;http://elixir-lang.org&#34;&gt;Elixir website&lt;/a&gt; as this
post is not about describing the Elixir language.&lt;br /&gt;
&lt;blockquote cite=&#34;&#34;&gt;
  &lt;p&gt;Elixir is a dynamic, functional language designed for building scalable and
maintainable applications.&lt;/p&gt;

  &lt;cite&gt;&lt;/cite&gt;
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;Elixir leverages the Erlang VM, known for running low-latency, distributed and
fault-tolerant systems, while also being successfully used in web development and
the embedded software domain.
{% endblockquote %}&lt;/p&gt;

&lt;h2 id=&#34;elixir-ast-structure&#34;&gt;Elixir AST structure&lt;/h2&gt;

&lt;p&gt;The Elixir AST structure is described like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elixir&#34;&gt;{atom | tuple, list, list | atom}
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;The first element is an atom or another tuple in the same representation;&lt;/li&gt;
&lt;li&gt;The second element is a keyword list containing metadata, like numbers and contexts&lt;/li&gt;
&lt;li&gt;The third element is either a list of arguments for the function call or an
atom. When this element is an atom, it means the tuple represent&amp;rsquo;s a variable.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Elixir is a quite capable language and I will be exploring it further in future
posts.  For now we&amp;rsquo;ll simply transform the equivalent function in Elixir to
its native AST to see what it looks like.  This is really quite easy in Elixir
as it has a far more natural metaprogramming experience than F#.  We just use
&lt;code&gt;quote(opts, block)&lt;/code&gt;, where &lt;code&gt;block&lt;/code&gt; is the expression we want to get the AST
representation for.  As an example let&amp;rsquo;s &lt;code&gt;quote&lt;/code&gt; the Elixir equivalent of the F#
&lt;code&gt;Test&lt;/code&gt; module with the &lt;code&gt;square&lt;/code&gt; function:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elixir&#34;&gt;quote do
  defmodule Test do
    def square(x) do
      x * x
    end
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This results in an Elixir AST:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-elixir&#34;&gt;{:defmodule, [context: Elixir, import: Kernel],
 [{:__aliases__, [alias: false], [:Test]},
  [do: {:def, [context: Elixir, import: Kernel],
    [{:square, [context: Elixir], [{:x, [], Elixir}]},
     [do: {:*, [context: Elixir, import: Kernel],
       [{:x, [], Elixir}, {:x, [], Elixir}]}]]}]]}
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;a-tale-of-two-trees&#34;&gt;A Tale Of Two Trees&lt;/h1&gt;

&lt;p&gt;Let&amp;rsquo;s start defining a tree structure for our transformation, we are going to be
transforming from an F# TAST straight to an Elixir AST as Elixir has capabilities
to use the AST fairly easily, we don&amp;rsquo;t have to specifically work with the AST
to get it back to code.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;type ElixirAst =
  | Fragment of atom : string * metadata : (string * string ) list * args : Arguments
  | Nested of (string * Arguments) list
  
and Arguments =
  | Binding of string 
  | Bindings of list&amp;lt;string&amp;gt;
  | Arguments of list&amp;lt;ElixirAst&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We use a recursive &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/dd233226.aspx&#34;&gt;Discriminated Union&lt;/a&gt; that describes the
Elixir AST.  You should be able to see it&amp;rsquo;s made up of either a &lt;code&gt;Fragment&lt;/code&gt; or a
&lt;code&gt;Nested&lt;/code&gt; both of those can contain &lt;code&gt;Arguments&lt;/code&gt; that can in turn contain &lt;code&gt;Binding&lt;/code&gt;,
&lt;code&gt;Bindings&lt;/code&gt;, or a list of &lt;code&gt;Arguments&lt;/code&gt; that can also be &lt;code&gt;Fragment&lt;/code&gt; or &lt;code&gt;Nested&lt;/code&gt; &amp;hellip;&lt;/p&gt;

&lt;p&gt;It&amp;rsquo;s quite a brain twister at first glance but it should hopefully make sense.&lt;/p&gt;

&lt;h2 id=&#34;transforming-the-trees&#34;&gt;Transforming The Trees&lt;/h2&gt;

&lt;p&gt;We are now going to write a pair of functions that will iterate over the F# TAST
and produce an Elixir AST, its more or less a case of transforming the F# constructs to the Elixir equivalents.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let rec traverseExpr expr =
  match expr with
  | BasicPatterns.Call(_expr,functionMemberOrVal,_,_typeSig, expressions) -&amp;gt;
      let argumentFragments = expressions |&amp;gt; List.map traverseExpr
      let functionName = functionMap functionMemberOrVal.LogicalName
      Fragment(functionName, [&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;;&amp;quot;import:&amp;quot;, &amp;quot;Kernel&amp;quot;], Arguments argumentFragments)
  | BasicPatterns.Value(v) -&amp;gt; Fragment(&amp;quot;:&amp;quot; + v.DisplayName, [], Binding &amp;quot;Elixir&amp;quot;)
  | other -&amp;gt; failwithf &amp;quot;Not implmented: %A&amp;quot; other

let rec traverse decl = 
  match decl with
  | FSharpImplementationFileDeclaration.Entity(ent, declList) -&amp;gt;
      let arguments =
        [yield Fragment(&amp;quot;:__aliases__&amp;quot;, [&amp;quot;alias:&amp;quot;, &amp;quot;false&amp;quot;], Bindings[&amp;quot;:&amp;quot; + ent.DisplayName])
         let declList = declList |&amp;gt; List.map traverse
         yield Nested[(&amp;quot;do:&amp;quot;, Arguments declList)] ]
      let moduledef =
        Fragment(&amp;quot;:defmodule&amp;quot;, [&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;; &amp;quot;import:&amp;quot;, &amp;quot;Kernel&amp;quot;], Arguments arguments )
      moduledef
      
  | FSharpImplementationFileDeclaration -&amp;gt; failwith &amp;quot;Not implemented&amp;quot;
  
  | FSharpImplementationFileDeclaration.MemberOrFunctionOrValue(memb, curriedParameterGroups, expr)-&amp;gt;
      let args = 
        [ let parameters =
            [for group in curriedParameterGroups do
               for param in group do
                 yield &amp;quot;:&amp;quot; + param.DisplayName] |&amp;gt; List.map (fun name -&amp;gt; Fragment(name, [], Binding &amp;quot;Elixir&amp;quot;))
        
          yield Fragment(&amp;quot;:&amp;quot; + memb.DisplayName, [&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;], Arguments parameters)
          yield Nested[(&amp;quot;do:&amp;quot;, Arguments [traverseExpr expr] ) ] ]
      Fragment(&amp;quot;:def&amp;quot;, [&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;; &amp;quot;import:&amp;quot;, &amp;quot;Kernel&amp;quot;], Arguments args)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Notice the &lt;code&gt;FSharpImplementationFileDeclaration&lt;/code&gt; fails with not implemented as
it&amp;rsquo;s not needed in this example so we will omit it here.&lt;/p&gt;

&lt;p&gt;One thing I haven&amp;rsquo;t shown in detail in the F# TAST section was the expressions,
that&amp;rsquo;s because there are 43 different elements that make up F#&amp;rsquo;s&amp;rsquo; full typed
expressions.  In our example we only need to use &lt;code&gt;Call&lt;/code&gt; and &lt;code&gt;Value&lt;/code&gt; so the
other expression types fail with not implemented too.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s try this out by pumping the F# TAST through our new function and see what we get:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let astElements =
  [for implFile in checkProjectResults.AssemblyContents.ImplementationFiles do
    for decl in implFile.Declarations do
      yield traverse decl]
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;[Fragment
 (&amp;quot;:defmodule&amp;quot;,[(&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;); (&amp;quot;import:&amp;quot;, &amp;quot;Kernel&amp;quot;)],
  Arguments
    [Fragment (&amp;quot;:__aliases__&amp;quot;,[(&amp;quot;alias:&amp;quot;, &amp;quot;false&amp;quot;)],Bindings [&amp;quot;:Test&amp;quot;]);
     Nested
       [(&amp;quot;do:&amp;quot;,
         Arguments
           [Fragment
              (&amp;quot;:def&amp;quot;,[(&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;); (&amp;quot;import:&amp;quot;, &amp;quot;Kernel&amp;quot;)],
               Arguments
                 [Fragment
                    (&amp;quot;:square&amp;quot;,[(&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;)],
                     Arguments [Fragment (&amp;quot;:x&amp;quot;,[],Binding &amp;quot;Elixir&amp;quot;)]);
                      Nested
                        [(&amp;quot;do:&amp;quot;,
                          Arguments
                            [Fragment
                               (&amp;quot;:*&amp;quot;,
                                [(&amp;quot;context:&amp;quot;, &amp;quot;Elixir&amp;quot;); (&amp;quot;import:&amp;quot;, &amp;quot;Kernel&amp;quot;)],
                                Arguments
                                  [Fragment (&amp;quot;:x&amp;quot;,[],Binding &amp;quot;Elixir&amp;quot;);
                                   Fragment (&amp;quot;:x&amp;quot;,[],Binding &amp;quot;Elixir&amp;quot;)])])]])])]])]

&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote cite=&#34;&#34;&gt;
  &lt;p&gt;&amp;ldquo;I have harnessed the shadows that stride from world to world to sow death and madness.&amp;rdquo;&lt;/p&gt;

  &lt;cite&gt;H.P. Lovecraft, From Beyond&lt;/cite&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;stringify-the-ast&#34;&gt;Stringify the AST&lt;/h2&gt;

&lt;p&gt;Ok, so now that we have an F# based tree structure that describes the Elixir AST we
now need it back in stringly form to do anything with it.  We could of just traversed
the tree writing the AST elements but that wouldn&amp;rsquo;t of given us the flexibility to
traverse the tree in the future.&lt;/p&gt;

&lt;p&gt;As we will be working with string&amp;rsquo;s and &lt;code&gt;StringBuilder&lt;/code&gt;s let&amp;rsquo;s define a few helper functions:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let (++) (ctx:StringBuilder) (str:String) = ctx.Append(str)
let (+&amp;gt;) (ctx:StringBuilder) (f:StringBuilder -&amp;gt; StringBuilder) = f ctx
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;These will let us pipe two &lt;code&gt;StringBuilder&lt;/code&gt; append operations together and also allow
us to pipe into other functions that take a &lt;code&gt;StringBuilder&lt;/code&gt; as an argument.&lt;/p&gt;

&lt;p&gt;First we&amp;rsquo;ll define something simple that will just render the metadata:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let printMeta (meta: (string * string) list) (sb:StringBuilder) =
  meta
  |&amp;gt; Seq.map (fun (key,value) -&amp;gt; sprintf &amp;quot;%s %s&amp;quot; key value)
  |&amp;gt; String.concat &amp;quot;, &amp;quot;
  |&amp;gt; Printf.bprintf sb &amp;quot;[%s]&amp;quot;
  sb
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now a duo of functions that will traverse the &lt;code&gt;ElixirAst&lt;/code&gt;, processing the
&lt;code&gt;Arguments&lt;/code&gt;, &lt;code&gt;Fragment&lt;/code&gt;, and &lt;code&gt;Nested&lt;/code&gt; elements:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let rec printArgs args (sb:StringBuilder) =
  match args with
  | Binding s -&amp;gt; sb ++ s
  | Bindings xs -&amp;gt; sb ++ sprintf &amp;quot;[%s]&amp;quot; (String.concat &amp;quot;, &amp;quot; xs)
  | Arguments args -&amp;gt;
    sb ++ &amp;quot;[&amp;quot; |&amp;gt; ignore
    args |&amp;gt; List.iteri (fun i item -&amp;gt; printAst item sb |&amp;gt; ignore
                                      if i &amp;lt; args.Length-1 then sb ++ &amp;quot;, &amp;quot; |&amp;gt; ignore)
    sb ++ &amp;quot;]&amp;quot;

and printAst ast (sb:StringBuilder) =
  match ast with
  | Fragment(atom, metadata, args) -&amp;gt;
    sb ++ sprintf &amp;quot;{%s, &amp;quot; atom +&amp;gt; printMeta metadata ++ &amp;quot;, &amp;quot; +&amp;gt; printArgs args ++ &amp;quot;}&amp;quot;
  | Nested(items) -&amp;gt;
    sb ++ &amp;quot;[&amp;quot; |&amp;gt; ignore

    items
    |&amp;gt; List.iteri (fun i (name, args) -&amp;gt;
                     sb ++ sprintf &amp;quot;%s &amp;quot; name +&amp;gt; printArgs args |&amp;gt; ignore
                     if i &amp;lt; items.Length-1 then sb ++ &amp;quot;, &amp;quot; |&amp;gt; ignore)

    sb ++ &amp;quot;]&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Finally capture the results by iterating over the AST and collecting the
stringified results:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let elixirAstItems = 
  let sb = StringBuilder()
  [for element in astElements do
     printAst element sb |&amp;gt; ignore
     yield sb.ToString()]
&lt;/code&gt;&lt;/pre&gt;

&lt;h1 id=&#34;vm-execution&#34;&gt;VM execution&lt;/h1&gt;

&lt;blockquote cite=&#34;&#34;&gt;
  &lt;p&gt;&amp;ldquo;I have brought to light a monstrous abnormality, but I did it for the sake of
knowledge. Now for the sake of all life and Nature you must help me thrust it
back into the dark again.&amp;rdquo;&lt;/p&gt;

  &lt;cite&gt;H.P. Lovecraft, The Case of Charles Dexter Ward&lt;/cite&gt;
&lt;/blockquote&gt;

&lt;h2 id=&#34;helper-process&#34;&gt;Helper Process&lt;/h2&gt;

&lt;p&gt;We&amp;rsquo;ll go for the simplest option here: we will create a new process, start up an
interactive Elixir session, and send across a few commands including the AST that
we just created.&lt;/p&gt;

&lt;p&gt;Now we&amp;rsquo;ll define a type to help us with this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;type public ProcessWrapper(file: string, env:Collections.Generic.IDictionary&amp;lt;_,_&amp;gt;) =
  let info = ProcessStartInfo(RedirectStandardInput = true,
                              RedirectStandardOutput = true,
                              UseShellExecute = false,
                              CreateNoWindow = true,
                              FileName = file)

  do 
    for item in env do
      info.EnvironmentVariables.[item.Key] &amp;lt;- item.Value
  let proc = new Process(StartInfo = info)
  let outputBuffer = StringBuilder()
  let dataReceived = proc.OutputDataReceived.Subscribe(fun data -&amp;gt; outputBuffer.AppendLine(data.Data) |&amp;gt; ignore)

  [&amp;lt;CLIEvent&amp;gt;]
  member this.OutputReceived = proc.OutputDataReceived

  [&amp;lt;CLIEvent&amp;gt;]
  member this.ErrorReceived = proc.ErrorDataReceived

  member this.Start() =
    proc.Start() |&amp;gt; ignore
    proc.BeginOutputReadLine()

  member this.Send(line: string) =
    proc.StandardInput.WriteLine(line)

  member this.Flush() =
    proc.StandardInput.Flush()

  member x.GetOutputBuffer(?clear) =
    let data = outputBuffer.ToString()
    if clear.IsSome then outputBuffer.Clear() |&amp;gt; ignore
    data

  interface IDisposable with
    member x.Dispose() =
      dataReceived.Dispose()
      proc.Dispose()
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;code-execution&#34;&gt;Code Execution&lt;/h2&gt;

&lt;p&gt;Now that we have all of the pieces in place let&amp;rsquo;s start the process and add some
path variables so that iex can find the things that are normally in your path.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let iex =
  new ProcessWrapper(&amp;quot;/usr/local/Cellar/elixir/1.0.4/bin/iex&amp;quot;,
                     dict[&amp;quot;PATH&amp;quot;, &amp;quot;/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin&amp;quot;])
iex.Start()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can send across out AST definition and assign it to &lt;code&gt;mycode&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;iex.Send(&amp;quot;mycode =&amp;quot; + List.head elixirAstItems)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If we examined the output of iex now we can see that this has been assigned:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;iex.GetOutputBuffer()
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-elixir&#34;&gt;{:defmodule, [context: Elixir, import: Kernel],
 [{:__aliases__, [alias: false], [:Test]},
  [do: [{:def, [context: Elixir, import: Kernel],
     [{:square, [context: Elixir], [{:x, [], Elixir}]},
      [do: [{:*, [context: Elixir, import: Kernel],
         [{:x, [], Elixir}, {:x, [], Elixir}]}]]]}]]]}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can use Elixir&amp;rsquo;s metaprogramming capabilities to compile this AST so we can use it:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;iex.Send(&amp;quot;mycode |&amp;gt; Code.compile_quoted()&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-elixir&#34;&gt;[{Test, &amp;lt;&amp;lt;70, 79, 82, 49, 0, 0, 4, 104, 66, 69, 65, 77, 69, 120, 68, 99, 0 ...&amp;gt;&amp;gt;}]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Yes!!  It looks like our AST has now been compiled, we have a module named &lt;code&gt;Test&lt;/code&gt;
with binary data assigned.  Now let&amp;rsquo;s see if we can execute our &lt;code&gt;square&lt;/code&gt; function:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;iex.Send(&amp;quot;Test.square(16)&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-elixir&#34;&gt;[256]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Woo-hoo job done!  I hope you enjoyed this whistle stop tour through the
&lt;a href=&#34;https://en.wikipedia.org/wiki/At_the_Mountains_of_Madness&#34;&gt;Mountains Of Madness&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I don&amp;rsquo;t know about you, but I need a cup of tea!&lt;/p&gt;

&lt;p&gt;Until next time &amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Are you my type?</title>
      <link>http://7sharpnine.com/2015/03/30/2015-03-30-are-you-my-type/</link>
      <pubDate>Mon, 30 Mar 2015 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2015/03/30/2015-03-30-are-you-my-type/</guid>
      <description>&lt;p&gt;Did you know there was more to the type matching operator than just pattern matching and exception handling?&lt;/p&gt;

&lt;p&gt;The type matching operator is defined thus: &lt;code&gt;:?&lt;/code&gt;  It can be used by &lt;a href=&#34;https://msdn.microsoft.com/en-gb/library/dd547125.aspx&#34;&gt;pattern matching&lt;/a&gt; to match on a specific type.  For example, you might want to test that an object is a certain type or deal with an object being one of several different types.  Pattern matching on types is your friend here:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;match symbolUse.Symbol with
| :? FSharpMemberOrFunctionOrValue
| :? FSharpUnionCase
| :? FSharpEntity
| :? FSharpField
| :? FSharpGenericParameter
| :? FSharpActivePatternCase
| :? FSharpParameter
| :? FSharpStaticParameter -&amp;gt;
    match getSymbolDeclarationLocation symbolUse currentFile solution with
    | SymbolDeclarationLocation.External -&amp;gt; false
    | SymbolDeclarationLocation.Unknown -&amp;gt; false
    | _ -&amp;gt; true
| _ -&amp;gt; false
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;During pattern matching you can also use the &lt;code&gt;as&lt;/code&gt; assignment operator to assign a named binding to the match so you can use it directly.  This is somewhat akin to using &lt;code&gt;is&lt;/code&gt; and &lt;code&gt;as&lt;/code&gt; in C#, or using an &lt;code&gt;as&lt;/code&gt; and then a &lt;code&gt;null&lt;/code&gt; check.  Yuck!  None of that kind of thing in F#:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;let isPrivateToFile = 
    match symbolUse.Symbol with
    | :? FSharpMemberOrFunctionOrValue as m -&amp;gt; not m.IsModuleValueOrMember
    | :? FSharpEntity as m -&amp;gt; m.Accessibility.IsPrivate
    | :? FSharpGenericParameter -&amp;gt; true
    | :? FSharpUnionCase as m -&amp;gt; m.Accessibility.IsPrivate
    | :? FSharpField as m -&amp;gt; m.Accessibility.IsPrivate
    | _ -&amp;gt; false
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It can also be used in &lt;a href=&#34;https://msdn.microsoft.com/en-us/library/dd233194.aspx&#34;&gt;exception handing&lt;/a&gt; to match a specific type of exception, as in this example where &lt;code&gt;TimeoutExceptions&lt;/code&gt; are caught:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;member x.GetDeclarationSymbols(line, col, lineStr) = 
    match infoOpt with 
    | None -&amp;gt; None
    | Some (checkResults, parseResults) -&amp;gt; 
        let longName,residue = Parsing.findLongIdentsAndResidue(col, lineStr)
        // Get items &amp;amp; generate output
        try
            let results = 
                Async.RunSynchronously (checkResults.GetDeclarationListSymbols(Some parseResults, line, col, lineStr, longName, residue, fun _ -&amp;gt; false), timeout = ServiceSettings.blockingTimeout )
            Some (results, residue)
        with :? TimeoutException -&amp;gt; None
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A final use for &lt;code&gt;:?&lt;/code&gt; that people either don&amp;rsquo;t tend to use or know about, is during a normal expression assignment.  In this example &lt;code&gt;item :? DotNetProject&lt;/code&gt; would evaluate to true when &lt;code&gt;item&lt;/code&gt; is a &lt;code&gt;DotNetProject&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-fsharp&#34;&gt;override x.SupportsItem(item:IBuildTarget) =
    item :? DotNetProject
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Although not used that often I find the &lt;code&gt;:?&lt;/code&gt; operator to be really useful.&lt;/p&gt;

&lt;p&gt;As usual F# helps to keep things short, succinct, and sweet!&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;

&lt;hr style=&#34;margin: 1em 0&#34;&gt;
&lt;h1 id=&#34;essential-listening&#34;&gt;Essential listening:&lt;/h1&gt;


&lt;div class=&#34;pure-g&#34;&gt;

  
  
  
  
  &lt;div class=&#34;&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;http://upload.wikimedia.org/wikipedia/en/5/51/Artofrebellioncover.JPG&#34; style=&#34;margin: 0&#34;
                 alt=&#34;Suicidal Tendencies - The Art Of Rebellion&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;Suicidal Tendencies - The Art Of Rebellion&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

  
  
  
  
  &lt;div class=&#34;&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;http://upload.wikimedia.org/wikipedia/en/7/78/Riseagainsttheblackmarket.jpg&#34; style=&#34;margin: 0&#34;
                 alt=&#34;Rise Against - The Black Market&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;Rise Against - The Black Market&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

&lt;/div&gt;




</description>
    </item>
    
    <item>
      <title>One day you&#39;ll walk alone</title>
      <link>http://7sharpnine.com/2015/02/13/2015-02-13-one-day-youll-walk-alone/</link>
      <pubDate>Fri, 13 Feb 2015 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2015/02/13/2015-02-13-one-day-youll-walk-alone/</guid>
      <description>&lt;p&gt;One thing I never really thought about a great deal before was the term &amp;lsquo;on-line&amp;rsquo; friends and what it might or might not mean. I mean what does that really mean?  Are they just actual friends or just &amp;ldquo;on-line&amp;rdquo; friends?&lt;/p&gt;

&lt;p&gt;As it turns out some will be real friends whereas other will only be in scope of whatever social or online network that they are a part of.  That is to say your Twitter friends will be scoped to Twitter and your Facebook friends ones to Facebook.  Obviously the meshing of more than one social network will reinforce the network, as will other reinforcements like actual physical presence.  Sometimes if a network ever ceases then the friendship ties can also be quickly weakened and even severed completely.&lt;/p&gt;

&lt;p&gt;Maintaining friends can require considerable effort on the participants, it reminds me of simulator games style like the sims where you have to constantly manage contact with friends.&lt;/p&gt;

&lt;p&gt;A lot of computer games now also require on-line friends too, where being part of a clan or party makes the games easier or more enjoyable.  Now here I show my age!  I remember when playing games involved taking your new game cartridge along to a friends house and actually playing together in physical reality!&lt;/p&gt;

&lt;p&gt;So my definition of real fiends are those that transcend the scope of network, and &amp;lsquo;on-line&amp;rsquo; friends as those that are truncated by network scope.&lt;/p&gt;

&lt;p&gt;I think I may have been reading a little too much Philip K. Dick lately!&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;

&lt;hr style=&#34;margin: 1em 0&#34;&gt;
&lt;h1 id=&#34;essential-listening&#34;&gt;Essential listening:&lt;/h1&gt;


&lt;div class=&#34;pure-g&#34;&gt;

  
  
  
  
  &lt;div class=&#34;http://upload.wikimedia.org/wikipedia/en/2/24/Megadeth-Youthanasia.jpg&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;Megadeth%20-%20Youthanasia&#34; style=&#34;margin: 0&#34;
                 alt=&#34;&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

  
  
  
  
  &lt;div class=&#34;http://upload.wikimedia.org/wikipedia/en/7/72/Exodus_-_Fabulous_Disaster.jpg&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;Exodus%20-%20Fabulous%20Disaste&#34; style=&#34;margin: 0&#34;
                 alt=&#34;&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

&lt;/div&gt;




</description>
    </item>
    
    <item>
      <title>Dioptric Dilemmas Of The Third Kind</title>
      <link>http://7sharpnine.com/2015/02/05/2015-02-05-dioptric-dilemmas-of-the-third-kind/</link>
      <pubDate>Thu, 05 Feb 2015 00:00:00 +0000</pubDate>
      
      <guid>http://7sharpnine.com/2015/02/05/2015-02-05-dioptric-dilemmas-of-the-third-kind/</guid>
      <description>

&lt;p&gt;After enjoying owning a 150mm refractor telescope for a year, I decided I wanted to upgrade.&lt;/p&gt;

&lt;p&gt;One of the reasons was the optics, I wanted to reduce the amount of chromatic aberration present, I also wanted to have a better focuser.  The focuser was a real source of frustration with it constantly causing the view to shift while focussing.  I didn&amp;rsquo;t want to spend a great deal of money on a new focuser when I wasn&amp;rsquo;t happy with the overall telescope anyway.&lt;/p&gt;

&lt;p&gt;
&lt;figure class=&#34;img-left&#34;&gt;
    
        &lt;img src=&#34;https://upload.wikimedia.org/wikipedia/commons/a/aa/Chromatic_aberration_lens_diagram.svg&#34; /&gt;
    
    
&lt;/figure&gt;
  In optics, chromatic aberration (CA, also called achromatism, chromatic distortion, and spherochromatism) is a type of distortion in which there is a failure of a lens to focus all colour&amp;rsquo;s to the same convergence point.&lt;/p&gt;

&lt;p&gt;I didn&amp;rsquo;t want to get a &lt;a href=&#34;http://en.wikipedia.org/wiki/Catadioptric_system#Catadioptric_telescopes&#34;&gt;Catadioptric style&lt;/a&gt; telescopes or a &lt;a href=&#34;http://en.wikipedia.org/wiki/Reflecting_telescope&#34;&gt;large reflector&lt;/a&gt; due to the size and also the maintenance aspects of keeping the various mirrors and lenses in alignment, not to mention the size and weight.  To put it simply, I wanted a a telescope that I could take outside (without a crane) and observe that was also low maintenance.&lt;/p&gt;

&lt;p&gt;I did a lot of research other contenders for me were the APM 115mm refractor and the Williams Optics 102mm refractor.  What drew me to the Takahashi TSA 102s was there were a lots of really good reviews available and Takahashi are also renowned for using good quality optics.  I believe the lens cell is manufactured my Cannon.&lt;/p&gt;

&lt;p&gt;At the same time I also decided to upgrade my mount.  I have my 150mm refractor mounted on a SkyWatcher EQ5 mount.  While this was adequate when I started I feel I have outgrown it somewhat.  It is not a driven mount so I wanted something with a drive system to keep the stars centered in the view, and I also wanted something with a goto capability.&lt;/p&gt;

&lt;p&gt;I finally decided, after much research, to purchase a &lt;a href=&#34;http://www.takahashi-europe.com/en/TSA-102.php&#34;&gt;Takahashi TSA 102s&lt;/a&gt; 102mm Triplet refractor with a 3 inch &lt;a href=&#34;http://www.starlightinstruments.com&#34;&gt;Starlight Instruments&lt;/a&gt; feathertouch focuser, along with an &lt;a href=&#34;https://www.ioptron.com/index.cfm?select=productdetails&amp;amp;phid=6c9e0a81-72fb-431d-b6ac-fcc0ae36b242&#34;&gt;iOptron&lt;/a&gt; IEQ45 mount.&lt;/p&gt;

&lt;p&gt;Here they are together in all their glory:&lt;br /&gt;

&lt;figure &gt;
    
        &lt;img src=&#34;https://farm8.staticflickr.com/7388/16243537060_3ac01a3e33_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;Detail of the iOptron IEQ45 mount and controller:

&lt;figure &gt;
    
        &lt;img src=&#34;https://farm8.staticflickr.com/7440/16404965246_44d6d3a5a5_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;Mount detail showing latitude and azimuth adjusters:

&lt;figure &gt;
    
        &lt;img src=&#34;https://farm8.staticflickr.com/7335/16243537230_debf399058_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;Detail of the superb Takahashi triplet lens:

&lt;figure &gt;
    
        &lt;img src=&#34;https://farm8.staticflickr.com/7385/16245034187_74f0a7752e_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;


&lt;figure &gt;
    
        &lt;img src=&#34;https://farm8.staticflickr.com/7381/15808430234_44a15157aa_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;All I need now is a clear night to try them out!&lt;br /&gt;

&lt;figure &gt;
    
        &lt;img src=&#34;https://farm9.staticflickr.com/8615/16404965596_5f9f662e35_z.jpg&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;h2 id=&#34;first-light&#34;&gt;First Light&lt;/h2&gt;

&lt;p&gt;A few night later the sky was clear.  At sunset I could see Venus and Mars setting, it was too late to get the mount and telescope setup to look at Mars or Venus, but I did manage to get some nice views with binoculars.&lt;/p&gt;

&lt;h3 id=&#34;setup&#34;&gt;Setup&lt;/h3&gt;

&lt;p&gt;Setup was really easy, align the scope roughly North, then use the polar alignment feature on the hand controller.  A clock face is shown on the controller of the direction that you need to align the telescope to.  You simply have to rotate the adjustment knobs on the mount to get Polaris aligned in the illuminated reticle.&lt;/p&gt;

&lt;h3 id=&#34;double-stars&#34;&gt;Double Stars&lt;/h3&gt;

&lt;p&gt;As a quick test I managed to split a few double stars.  Notably Rigel, Mintaka, Nair al saif, Meissa, Castor, and Polaris.  There were a few more I managed to split with my limited eye pieces but I neglected to keep a log of them!&lt;/p&gt;

&lt;h3 id=&#34;planets&#34;&gt;Planets&lt;/h3&gt;

&lt;p&gt;Well, only Jupiter was visible, but as usual it was a magnificent sight, it was a joy to have the great planet automatically tracked and centered in the eyepiece. I could make out some lovely detail in the cloud bands.&lt;/p&gt;

&lt;h3 id=&#34;deep-sky&#34;&gt;Deep Sky&lt;/h3&gt;

&lt;p&gt;My knowledge of deep sky is not amazing, but I did manage to get great views of Plaides, Orion Nebula, Andromeda Galaxy.  Beehive cluster.&lt;/p&gt;

&lt;p&gt;Oh, I was also lucky enough to see the comet C/2014 Q2, otherwise know as Lovejoy!&lt;/p&gt;

&lt;h2 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;The Takahashi TSA 102S is built magnificently, the finish is flawless, the lens is superb, the focuser doesn&amp;rsquo;t move the view out of alignment and is super smooth to use.  The stars are crystal clear and pin sharp!&lt;/p&gt;

&lt;p&gt;The iOptron IEQ45 is engineered really well too, the polar alignment is a joy to use with the illuminated view finder and helper function from the controller.  The tracking and moving the mount with the controller works really well too.&lt;/p&gt;

&lt;h2 id=&#34;whats-next&#34;&gt;Whats Next&lt;/h2&gt;

&lt;p&gt;Well now my main optics and mount are in order I need some proper eyepieces.  I only have the stock eyepieces that came with my 150mm: a 10mm and 25mm plössl.  I seriously need to upgrade them pronto.  I have my eye on nice &lt;a href=&#34;http://www.televue.com/engine/TV3b_page.asp?id=183&#34;&gt;TeleVue Delos&lt;/a&gt; eyepiece.&lt;/p&gt;

&lt;p&gt;Now that I have a stable mount I want to try some astrophotography, it would of been great showing you what I saw rather than just describing it.&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;

&lt;hr style=&#34;margin: 1em 0&#34;&gt;
&lt;h1 id=&#34;essential-listening&#34;&gt;Essential listening:&lt;/h1&gt;


&lt;div class=&#34;pure-g&#34;&gt;

  
  
  
  
  &lt;div class=&#34;&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;http://upload.wikimedia.org/wikipedia/en/6/64/MeteoraLP.jpg&#34; style=&#34;margin: 0&#34;
                 alt=&#34;Linkin Park - Meteora&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;Linkin Park - Meteora&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

  
  
  
  
  &lt;div class=&#34;&#34;&gt;
    &lt;div style=&#34;width: 20%; float: left;padding: 0 .2em .2em 0&#34;&gt;
        &lt;figure style=&#34;margin: 0&#34;&gt;
            &lt;img src=&#34;http://upload.wikimedia.org/wikipedia/en/e/e0/Diamond_%28STYG_album%29.jpg&#34; style=&#34;margin: 0&#34;
                 alt=&#34;Stick To Your Guns - Diamond&#34; /&gt;
            &lt;figcaption&gt;
                &lt;h6&gt;Stick To Your Guns - Diamond&lt;/h4&gt;
            &lt;/figcaption&gt;
        &lt;/figure&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  

&lt;/div&gt;




</description>
    </item>
    
  </channel>
</rss>